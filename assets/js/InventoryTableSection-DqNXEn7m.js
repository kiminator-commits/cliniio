import{j as e}from"./utils-DSBVV_PW.js";import{a as I,R as k}from"./vendor-DoALFvsH.js";import{I as O,H as ge,T as ne,ax as E,a4 as ye}from"./errors-jP3Ij2gK.js";import{B as Y,i as V,_ as je,j as we}from"./main-Dcvo2fQ5.js";import"./login-C1ujRpW7.js";import"./data-73RVSc-N.js";import"./ui-DETUEJ2B.js";function L(){return L=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(r[a]=s[a])}return r},L.apply(null,arguments)}const Ne=({filters:r,showFilters:t,setShowFilters:s,onToggleTrackedFilter:a})=>{const d=I.useRef(null),f=I.useRef(null),i=(m,x)=>{var j,v;switch(m.key){case"ArrowRight":m.preventDefault(),x==="filter"&&a&&((j=f.current)==null||j.focus());break;case"ArrowLeft":m.preventDefault(),x==="tracked"&&a&&((v=d.current)==null||v.focus());break;case"Enter":case" ":{m.preventDefault(),x==="filter"?s(!t):x==="tracked"&&a&&a();break}case"Escape":{m.preventDefault(),t&&s(!1);const C=m.currentTarget.closest('[role="toolbar"]');C&&C.focus();break}}};return I.useEffect(()=>{if(t){const m=document.querySelector("#expanded-filters-panel input");m&&m.focus()}},[t]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-2",role:"toolbar","aria-label":"Inventory filtering controls",tabIndex:-1,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Y,{ref:d,variant:"outline-secondary",className:"font-medium px-4 py-2 rounded-md border border-gray-300 shadow-sm flex items-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",onClick:()=>s(!t),onKeyDown:m=>i(m,"filter"),"aria-expanded":t,"aria-controls":"expanded-filters-panel","aria-label":`${t?"Hide":"Show"} advanced filters`,tabIndex:0,children:[e.jsx(O,{path:ge,size:1,className:"mr-2","aria-hidden":"true"}),"Filters"]}),a&&e.jsxs(Y,{ref:f,variant:"outline-secondary",className:`font-medium px-4 py-2 rounded-md border border-gray-300 shadow-sm flex items-center focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:ring-offset-1 ${r.showTrackedOnly?"bg-[#4ECDC4] text-white border-[#4ECDC4]":""}`,onClick:a,onKeyDown:m=>i(m,"tracked"),"aria-pressed":r.showTrackedOnly,"aria-label":`${r.showTrackedOnly?"Hide":"Show"} tracked items only`,tabIndex:0,children:[e.jsx(O,{path:ne,size:1,className:"mr-2","aria-hidden":"true"}),"Tracked Only"]})]})})})},Ce=({activeTab:r,filters:t,setCategoryFilter:s,setLocationFilter:a,setSearchQuery:d,onToggleFavoritesFilter:f})=>e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200 flex flex-wrap gap-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"search-input",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Search"}),e.jsx("input",{id:"search-input",type:"text",placeholder:"Search inventory...",className:"form-control w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.searchQuery||"",onChange:i=>d(i.target.value)})]}),r==="tools"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"item-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Item"}),e.jsxs("select",{id:"item-select",className:"form-select",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Scalpel",children:"Scalpel"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Category"}),e.jsxs("select",{id:"category-select",className:"form-select",value:t.category||"",onChange:i=>s(i.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Tools",children:"Tools"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Location"}),e.jsxs("select",{id:"location-select",className:"form-select",value:t.location||"",onChange:i=>a(i.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Storage Room",children:"Storage Room"}),e.jsx("option",{value:"Lab",children:"Lab"})]})]}),f&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tools-favorites-filter-btn",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Quick Filter"}),e.jsxs("button",{id:"tools-favorites-filter-btn",onClick:f,className:`flex items-center gap-2 px-3 py-2 rounded-md border transition-colors ${t.showFavoritesOnly?"bg-yellow-500 text-white border-yellow-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[e.jsx(O,{path:E,size:.8}),e.jsx("span",{className:"text-sm",children:"Favorites"})]})]})]}),r==="supplies"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"supply-item-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Item"}),e.jsxs("select",{id:"supply-item-select",className:"form-select",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Gauze",children:"Gauze"}),e.jsx("option",{value:"Syringe",children:"Syringe"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"supply-category-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Category"}),e.jsxs("select",{id:"supply-category-select",className:"form-select",value:t.category||"",onChange:i=>s(i.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Supplies",children:"Supplies"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"supply-location-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Location"}),e.jsxs("select",{id:"supply-location-select",className:"form-select",value:t.location||"",onChange:i=>a(i.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Supply Room",children:"Supply Room"})]})]}),f&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"supplies-favorites-filter-btn",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Quick Filter"}),e.jsxs("button",{id:"supplies-favorites-filter-btn",onClick:f,className:`flex items-center gap-2 px-3 py-2 rounded-md border transition-colors ${t.showFavoritesOnly?"bg-yellow-500 text-white border-yellow-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[e.jsx(O,{path:E,size:.8}),e.jsx("span",{className:"text-sm",children:"Favorites"})]})]})]}),r==="equipment"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"equipment-item-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Item"}),e.jsxs("select",{id:"equipment-item-select",className:"form-select",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Monitor",children:"Monitor"}),e.jsx("option",{value:"Defibrillator",children:"Defibrillator"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"equipment-category-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Category"}),e.jsxs("select",{id:"equipment-category-select",className:"form-select",value:t.category||"",onChange:i=>s(i.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Equipment",children:"Equipment"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"equipment-location-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Location"}),e.jsxs("select",{id:"equipment-location-select",className:"form-select",value:t.location||"",onChange:i=>a(i.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"ICU",children:"ICU"}),e.jsx("option",{value:"ER",children:"ER"})]})]}),f&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"equipment-favorites-filter-btn",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Quick Filter"}),e.jsxs("button",{id:"equipment-favorites-filter-btn",onClick:f,className:`flex items-center gap-2 px-3 py-2 rounded-md border transition-colors ${t.showFavoritesOnly?"bg-yellow-500 text-white border-yellow-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[e.jsx(O,{path:E,size:.8}),e.jsx("span",{className:"text-sm",children:"Favorites"})]})]})]}),r==="officeHardware"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hardware-item-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Item"}),e.jsxs("select",{id:"hardware-item-select",className:"form-select",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Printer",children:"Printer"}),e.jsx("option",{value:"Desktop Computer",children:"Desktop Computer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hardware-category-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Category"}),e.jsxs("select",{id:"hardware-category-select",className:"form-select",value:t.category||"",onChange:i=>s(i.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Office Hardware",children:"Office Hardware"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hardware-location-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Location"}),e.jsxs("select",{id:"hardware-location-select",className:"form-select",value:t.location||"",onChange:i=>a(i.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Admin Office",children:"Admin Office"}),e.jsx("option",{value:"Reception",children:"Reception"})]})]}),f&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hardware-favorites-filter-btn",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Quick Filter"}),e.jsxs("button",{id:"hardware-favorites-filter-btn",onClick:f,className:`flex items-center gap-2 px-3 py-2 rounded-md border transition-colors ${t.showFavoritesOnly?"bg-yellow-500 text-white border-yellow-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[e.jsx(O,{path:E,size:.8}),e.jsx("span",{className:"text-sm",children:"Favorites"})]})]})]})]}),Se="_tableContainer_pw40o_2",Ie="_table_pw40o_2",_e="_tableHeader_pw40o_17",ke="_tableHeaderCell_pw40o_25",ze="_tableRow_pw40o_34",Oe="_tableCell_pw40o_49",Re="_actionGroup_pw40o_64",Me="_actionButton_pw40o_72",De="_editButton_pw40o_106",Te="_deleteButton_pw40o_117",Ee="_trackButton_pw40o_128",Ae="_tracked_pw40o_143",Fe="_virtualizedList_pw40o_179",$e="_virtualizedOverlay_pw40o_188",Be="_virtualizedBody_pw40o_201",qe="_virtualizedRow_pw40o_207",p={tableContainer:Se,table:Ie,tableHeader:_e,tableHeaderCell:ke,tableRow:ze,tableCell:Oe,actionGroup:Re,actionButton:Me,editButton:De,deleteButton:Te,trackButton:Ee,tracked:Ae,virtualizedList:Fe,virtualizedOverlay:$e,virtualizedBody:Be,virtualizedRow:qe},He="_tooltipContainer_7fsb9_2",Pe="_tooltipContent_7fsb9_7",Le="_tooltipArrow_7fsb9_35",B={tooltipContainer:He,tooltipContent:Pe,tooltipArrow:Le},U=I.forwardRef(({item:r,activeTab:t,onEdit:s,onToggleFavorite:a,onTrackToggle:d,isTracked:f=!1},i)=>{const{favorites:m,toggleFavorite:x,openDeleteModal:j}=V(),v=m.includes(r.id),C=o=>{s(o)},b=I.useRef(null),N=I.useRef(null),g=I.useRef(null),l=I.useRef(null);I.useImperativeHandle(i,()=>({focusEdit:()=>{var o;return(o=b.current)==null?void 0:o.focus()},focusFavorite:()=>{var o;return(o=N.current)==null?void 0:o.focus()},focusTrack:()=>{var o;return(o=g.current)==null?void 0:o.focus()},focusDelete:()=>{var o;return(o=l.current)==null?void 0:o.focus()}}));const n=(o,y)=>{if(o.key==="Enter"||o.key===" ")switch(o.preventDefault(),y){case"edit":s(r);break;case"favorite":x(r.id);break;case"track":d==null||d(r);break;case"delete":u();break}},c=()=>{d==null||d(r)},h=()=>{a?a(r.id):x(r.id)},u=()=>{j(r)},w=f?"Stop tracking":"Start tracking";return e.jsx("td",{className:p.tableCell,children:e.jsxs("div",{className:p.actionGroup,children:[e.jsxs("button",{ref:b,onClick:()=>C(r),onKeyDown:o=>n(o,"edit"),className:`${p.actionButton} ${p.editButton} text-xs px-2 py-0.5 flex items-center`,"aria-label":`Edit ${r.name||"item"}`,tabIndex:0,children:[e.jsx("svg",{className:"inline-block mr-1",width:"12",height:"12",fill:"currentColor",viewBox:"0 0 16 16","aria-hidden":"true",children:e.jsx("path",{d:"M15.502 1.94a1.5 1.5 0 0 1 0 2.12l-1.439 1.439-2.12-2.12 1.439-1.439a1.5 1.5 0 0 1 2.12 0zm-2.561 2.561-9.193 9.193a.5.5 0 0 0-.121.196l-1 3a.5.5 0 0 0 .633.633l3-1a.5.5 0 0 0 .196-.12l9.193-9.194-2.12-2.12z"})}),"Edit"]}),t==="tools"&&e.jsx("button",{ref:N,onClick:h,onKeyDown:o=>n(o,"favorite"),className:`${p.actionButton} ${v?"!text-yellow-500 !bg-yellow-50 !border-yellow-200 hover:!text-yellow-600":"text-gray-400 hover:text-yellow-500 hover:bg-yellow-50"} transition-colors duration-200`,"aria-label":`${v?"Remove from":"Add to"} favorites`,"aria-pressed":v,tabIndex:0,children:e.jsx(O,{path:E,size:.8,className:v?"fill-current":"","aria-hidden":"true"})}),t==="tools"&&e.jsxs("div",{className:B.tooltipContainer,children:[e.jsx("button",{ref:g,onClick:c,onKeyDown:o=>n(o,"track"),className:`${p.actionButton} ${p.trackButton} ${f?p.tracked:""}`,"aria-label":w,"aria-pressed":f,tabIndex:0,children:e.jsx(O,{path:ne,size:1.2,"aria-hidden":"true"})}),e.jsxs("div",{className:B.tooltipContent,children:[w,e.jsx("div",{className:B.tooltipArrow})]})]}),e.jsxs("button",{ref:l,onClick:u,onKeyDown:o=>n(o,"delete"),className:`${p.actionButton} ${p.deleteButton} text-xs px-2 py-0.5 flex items-center`,"aria-label":`Delete ${r.name||"item"}`,tabIndex:0,children:[e.jsxs("svg",{className:"inline-block mr-1",width:"12",height:"12",fill:"currentColor",viewBox:"0 0 16 16","aria-hidden":"true",children:[e.jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),e.jsx("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]}),"Delete"]})]})})});U.displayName="TableActions";const ie=k.memo(({item:r,onEdit:t,onDelete:s,onToggleFavorite:a,onTrackToggle:d,isTracked:f,activeTab:i})=>{const m=I.useMemo(()=>{const x=e.jsxs("td",{className:p.tableCell,children:[e.jsx("div",{className:"font-medium text-gray-900",children:r.name}),r.data&&typeof r.data=="object"&&"description"in r.data&&typeof r.data.description=="string"&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:r.data.description})]},"name"),j=e.jsx("td",{className:p.tableCell,children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:r.category})},"category"),v=e.jsx("td",{className:p.tableCell,children:e.jsx("span",{className:`font-medium ${(r.quantity||0)<10?"text-red-600":"text-gray-900"}`,children:r.quantity||0})},"quantity"),C=e.jsxs("td",{className:p.tableCell,children:["$",(r.unit_cost||0).toFixed(2)]},"price"),b=[x];return i!=="tools"&&b.push(j),i==="supplies"?b.push(e.jsx("td",{className:p.tableCell,children:r.location||"N/A"},"location")):i==="tools"&&b.push(e.jsx("td",{className:p.tableCell,children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.status==="active"?"bg-green-100 text-green-800":r.status==="inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:r.status})},"status")),b.push(v,C),b},[r,i]);return e.jsxs("tr",{className:p.tableRow,tabIndex:0,children:[m,e.jsx(U,{item:r,onEdit:t,onDelete:s,onToggleFavorite:a,onTrackToggle:d,isTracked:f,activeTab:i})]})});ie.displayName="TableRow";const K=k.memo(({columns:r,activeTab:t})=>e.jsx("thead",{className:p.tableHeader,children:e.jsxs("tr",{children:[r.map(s=>t==="tools"&&s==="category"?null:e.jsx("th",{className:`${p.tableHeaderCell} text-gray-500 inventory-table-header`,scope:"col","aria-label":s.toLowerCase(),style:{color:"#6b7280"},children:s},s)),e.jsx("th",{className:`${p.tableHeaderCell} text-gray-500 inventory-table-header`,scope:"col","aria-label":"Item actions",style:{color:"#6b7280"},children:"Actions"})]})}));K.displayName="TableHeader";const W=k.memo(({currentPage:r,totalPages:t,onPageChange:s})=>e.jsxs("div",{className:"flex justify-center items-center mt-4 gap-4",role:"navigation","aria-label":"Table pagination",children:[e.jsx("button",{onClick:()=>s(Math.max(1,r-1)),disabled:r===1,className:"px-3 py-1 border rounded-md disabled:opacity-50 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1","aria-label":"Go to previous page","aria-disabled":r===1,tabIndex:0,children:"Previous"}),e.jsxs("span",{className:"text-sm text-gray-700","aria-label":`Page ${r} of ${t}`,children:["Page ",r," of ",t]}),e.jsx("button",{onClick:()=>s(Math.min(t,r+1)),disabled:r===t,className:"px-3 py-1 border rounded-md disabled:opacity-50 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1","aria-label":"Go to next page","aria-disabled":r===t,tabIndex:0,children:"Next"})]}));W.displayName="TablePagination";function Z(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var ee=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function We(r,t){return!!(r===t||ee(r)&&ee(t))}function Ve(r,t){if(r.length!==t.length)return!1;for(var s=0;s<r.length;s++)if(!We(r[s],t[s]))return!1;return!0}function q(r,t){t===void 0&&(t=Ve);var s,a=[],d,f=!1;function i(){for(var m=[],x=0;x<arguments.length;x++)m[x]=arguments[x];return f&&s===this&&t(m,a)||(d=r.apply(this,m),f=!0,s=this,a=m),d}return i}var Ue=typeof performance=="object"&&typeof performance.now=="function",te=Ue?function(){return performance.now()}:function(){return Date.now()};function re(r){cancelAnimationFrame(r.id)}function Ke(r,t){var s=te();function a(){te()-s>=t?r.call(null):d.id=requestAnimationFrame(a)}var d={id:requestAnimationFrame(a)};return d}var H=-1;function le(r){if(r===void 0&&(r=!1),H===-1||r){var t=document.createElement("div"),s=t.style;s.width="50px",s.height="50px",s.overflow="scroll",document.body.appendChild(t),H=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return H}var D=null;function se(r){if(r===void 0&&(r=!1),D===null||r){var t=document.createElement("div"),s=t.style;s.width="50px",s.height="50px",s.overflow="scroll",s.direction="rtl";var a=document.createElement("div"),d=a.style;return d.width="100px",d.height="100px",t.appendChild(a),document.body.appendChild(t),t.scrollLeft>0?D="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?D="negative":D="positive-ascending"),document.body.removeChild(t),D}return D}var Qe=150,Ge=function(t,s){return t};function Je(r){var t,s=r.getItemOffset,a=r.getEstimatedTotalSize,d=r.getItemSize,f=r.getOffsetForIndexAndAlignment,i=r.getStartIndexForOffset,m=r.getStopIndexForStartIndex,x=r.initInstanceProps,j=r.shouldResetStyleCacheOnItemSizeChange,v=r.validateProps;return t=(function(C){je(b,C);function b(g){var l;return l=C.call(this,g)||this,l._instanceProps=x(l.props,Z(l)),l._outerRef=void 0,l._resetIsScrollingTimeoutId=null,l.state={instance:Z(l),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof l.props.initialScrollOffset=="number"?l.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},l._callOnItemsRendered=void 0,l._callOnItemsRendered=q(function(n,c,h,u){return l.props.onItemsRendered({overscanStartIndex:n,overscanStopIndex:c,visibleStartIndex:h,visibleStopIndex:u})}),l._callOnScroll=void 0,l._callOnScroll=q(function(n,c,h){return l.props.onScroll({scrollDirection:n,scrollOffset:c,scrollUpdateWasRequested:h})}),l._getItemStyle=void 0,l._getItemStyle=function(n){var c=l.props,h=c.direction,u=c.itemSize,w=c.layout,o=l._getItemStyleCache(j&&u,j&&w,j&&h),y;if(o.hasOwnProperty(n))y=o[n];else{var S=s(l.props,n,l._instanceProps),_=d(l.props,n,l._instanceProps),z=h==="horizontal"||w==="horizontal",R=h==="rtl",M=z?S:0;o[n]=y={position:"absolute",left:R?void 0:M,right:R?M:void 0,top:z?0:S,height:z?"100%":_,width:z?_:"100%"}}return y},l._getItemStyleCache=void 0,l._getItemStyleCache=q(function(n,c,h){return{}}),l._onScrollHorizontal=function(n){var c=n.currentTarget,h=c.clientWidth,u=c.scrollLeft,w=c.scrollWidth;l.setState(function(o){if(o.scrollOffset===u)return null;var y=l.props.direction,S=u;if(y==="rtl")switch(se()){case"negative":S=-u;break;case"positive-descending":S=w-h-u;break}return S=Math.max(0,Math.min(S,w-h)),{isScrolling:!0,scrollDirection:o.scrollOffset<S?"forward":"backward",scrollOffset:S,scrollUpdateWasRequested:!1}},l._resetIsScrollingDebounced)},l._onScrollVertical=function(n){var c=n.currentTarget,h=c.clientHeight,u=c.scrollHeight,w=c.scrollTop;l.setState(function(o){if(o.scrollOffset===w)return null;var y=Math.max(0,Math.min(w,u-h));return{isScrolling:!0,scrollDirection:o.scrollOffset<y?"forward":"backward",scrollOffset:y,scrollUpdateWasRequested:!1}},l._resetIsScrollingDebounced)},l._outerRefSetter=function(n){var c=l.props.outerRef;l._outerRef=n,typeof c=="function"?c(n):c!=null&&typeof c=="object"&&c.hasOwnProperty("current")&&(c.current=n)},l._resetIsScrollingDebounced=function(){l._resetIsScrollingTimeoutId!==null&&re(l._resetIsScrollingTimeoutId),l._resetIsScrollingTimeoutId=Ke(l._resetIsScrolling,Qe)},l._resetIsScrolling=function(){l._resetIsScrollingTimeoutId=null,l.setState({isScrolling:!1},function(){l._getItemStyleCache(-1,null)})},l}b.getDerivedStateFromProps=function(l,n){return Xe(l,n),v(l),null};var N=b.prototype;return N.scrollTo=function(l){l=Math.max(0,l),this.setState(function(n){return n.scrollOffset===l?null:{scrollDirection:n.scrollOffset<l?"forward":"backward",scrollOffset:l,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},N.scrollToItem=function(l,n){n===void 0&&(n="auto");var c=this.props,h=c.itemCount,u=c.layout,w=this.state.scrollOffset;l=Math.max(0,Math.min(l,h-1));var o=0;if(this._outerRef){var y=this._outerRef;u==="vertical"?o=y.scrollWidth>y.clientWidth?le():0:o=y.scrollHeight>y.clientHeight?le():0}this.scrollTo(f(this.props,l,n,w,this._instanceProps,o))},N.componentDidMount=function(){var l=this.props,n=l.direction,c=l.initialScrollOffset,h=l.layout;if(typeof c=="number"&&this._outerRef!=null){var u=this._outerRef;n==="horizontal"||h==="horizontal"?u.scrollLeft=c:u.scrollTop=c}this._callPropsCallbacks()},N.componentDidUpdate=function(){var l=this.props,n=l.direction,c=l.layout,h=this.state,u=h.scrollOffset,w=h.scrollUpdateWasRequested;if(w&&this._outerRef!=null){var o=this._outerRef;if(n==="horizontal"||c==="horizontal")if(n==="rtl")switch(se()){case"negative":o.scrollLeft=-u;break;case"positive-ascending":o.scrollLeft=u;break;default:var y=o.clientWidth,S=o.scrollWidth;o.scrollLeft=S-y-u;break}else o.scrollLeft=u;else o.scrollTop=u}this._callPropsCallbacks()},N.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&re(this._resetIsScrollingTimeoutId)},N.render=function(){var l=this.props,n=l.children,c=l.className,h=l.direction,u=l.height,w=l.innerRef,o=l.innerElementType,y=l.innerTagName,S=l.itemCount,_=l.itemData,z=l.itemKey,R=z===void 0?Ge:z,M=l.layout,A=l.outerElementType,F=l.outerTagName,he=l.style,pe=l.useIsScrolling,fe=l.width,Q=this.state.isScrolling,$=h==="horizontal"||M==="horizontal",xe=$?this._onScrollHorizontal:this._onScrollVertical,G=this._getRangeToRender(),be=G[0],ve=G[1],J=[];if(S>0)for(var T=be;T<=ve;T++)J.push(I.createElement(n,{data:_,key:R(T,_),index:T,isScrolling:pe?Q:void 0,style:this._getItemStyle(T)}));var X=a(this.props,this._instanceProps);return I.createElement(A||F||"div",{className:c,onScroll:xe,ref:this._outerRefSetter,style:L({position:"relative",height:u,width:fe,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:h},he)},I.createElement(o||y||"div",{children:J,ref:w,style:{height:$?"100%":X,pointerEvents:Q?"none":void 0,width:$?X:"100%"}}))},N._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var l=this.props.itemCount;if(l>0){var n=this._getRangeToRender(),c=n[0],h=n[1],u=n[2],w=n[3];this._callOnItemsRendered(c,h,u,w)}}if(typeof this.props.onScroll=="function"){var o=this.state,y=o.scrollDirection,S=o.scrollOffset,_=o.scrollUpdateWasRequested;this._callOnScroll(y,S,_)}},N._getRangeToRender=function(){var l=this.props,n=l.itemCount,c=l.overscanCount,h=this.state,u=h.isScrolling,w=h.scrollDirection,o=h.scrollOffset;if(n===0)return[0,0,0,0];var y=i(this.props,o,this._instanceProps),S=m(this.props,y,o,this._instanceProps),_=!u||w==="backward"?Math.max(1,c):1,z=!u||w==="forward"?Math.max(1,c):1;return[Math.max(0,y-_),Math.max(0,Math.min(n-1,S+z)),y,S]},b})(I.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Xe=function(t,s){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,s.instance},Ye=Je({getItemOffset:function(t,s){var a=t.itemSize;return s*a},getItemSize:function(t,s){var a=t.itemSize;return a},getEstimatedTotalSize:function(t){var s=t.itemCount,a=t.itemSize;return a*s},getOffsetForIndexAndAlignment:function(t,s,a,d,f,i){var m=t.direction,x=t.height,j=t.itemCount,v=t.itemSize,C=t.layout,b=t.width,N=m==="horizontal"||C==="horizontal",g=N?b:x,l=Math.max(0,j*v-g),n=Math.min(l,s*v),c=Math.max(0,s*v-g+v+i);switch(a==="smart"&&(d>=c-g&&d<=n+g?a="auto":a="center"),a){case"start":return n;case"end":return c;case"center":{var h=Math.round(c+(n-c)/2);return h<Math.ceil(g/2)?0:h>l+Math.floor(g/2)?l:h}case"auto":default:return d>=c&&d<=n?d:d<c?c:n}},getStartIndexForOffset:function(t,s){var a=t.itemCount,d=t.itemSize;return Math.max(0,Math.min(a-1,Math.floor(s/d)))},getStopIndexForStartIndex:function(t,s,a){var d=t.direction,f=t.height,i=t.itemCount,m=t.itemSize,x=t.layout,j=t.width,v=d==="horizontal"||x==="horizontal",C=s*m,b=v?j:f,N=Math.ceil((b+a-C)/m);return Math.max(0,Math.min(i-1,s+N-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});const ce=k.memo(({item:r,onEdit:t,onDelete:s,onToggleFavorite:a,onTrackToggle:d,isTracked:f,activeTab:i})=>{const m=I.useMemo(()=>{const x=e.jsxs("div",{className:p.tableCell,children:[e.jsx("div",{className:"font-medium text-gray-900",children:r.name}),r.data&&typeof r.data=="object"&&"description"in r.data&&typeof r.data.description=="string"&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:r.data.description})]},"name"),j=e.jsx("div",{className:p.tableCell,children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:r.category})},"category"),v=e.jsx("td",{className:p.tableCell,children:e.jsx("span",{className:`font-medium ${(r.quantity||0)<10?"text-red-600":"text-gray-900"}`,children:r.quantity||0})},"quantity"),C=e.jsxs("td",{className:p.tableCell,children:["$",(r.unit_cost||0).toFixed(2)]},"price"),b=[x];return i!=="tools"&&b.push(j),i==="supplies"?b.push(e.jsx("div",{className:p.tableCell,children:r.location||"N/A"},"location")):i==="tools"&&b.push(e.jsx("div",{className:p.tableCell,children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.status==="active"?"bg-green-100 text-green-800":r.status==="inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:r.status})},"status")),b.push(v,C),b},[r,i]);return e.jsxs("div",{className:`${p.tableRow} ${p.virtualizedRow}`,children:[m,e.jsx("div",{className:p.tableCell,children:e.jsx(U,{item:r,onEdit:t,onDelete:s,onToggleFavorite:a,onTrackToggle:d,isTracked:f,activeTab:i})})]})});ce.displayName="VirtualizedTableRow";const de=k.memo(({data:r,columns:t,onEdit:s,onDelete:a,onToggleFavorite:d,onTrackToggle:f,isTracked:i,activeTab:m,itemHeight:x=80,maxHeight:j=600})=>{const v=I.useCallback(({index:b,style:N})=>{const g=r[b];return g?e.jsx("div",{style:N,children:e.jsx(ce,{item:g,onEdit:s,onDelete:a,onToggleFavorite:d,onTrackToggle:f,isTracked:i?i(g.id):!1,activeTab:m})}):null},[r,s,a,d,f,i,m]),C=I.useMemo(()=>e.jsx(Ye,{height:Math.min(j,r.length*x),itemCount:r.length,itemSize:x,width:"100%",className:p.virtualizedList,children:v}),[r.length,x,j,v]);return e.jsx("div",{className:p.tableContainer,children:e.jsxs("div",{className:p.tableWrapper,children:[e.jsxs("table",{className:p.table,role:"table","aria-label":"Inventory items table",children:[e.jsx(K,{columns:t,activeTab:m}),e.jsx("tbody",{className:p.virtualizedBody})]}),e.jsx("div",{className:p.virtualizedOverlay,children:C})]})})});de.displayName="VirtualizedInventoryTable";const ue=k.memo(({data:r,columns:t,onEdit:s,onDelete:a,onToggleFavorite:d,showTrackedOnly:f=!1,showFavoritesOnly:i=!1,itemsPerPage:m=3,currentPage:x=1,onPageChange:j,activeTab:v})=>{const C=r.length>50,{favorites:b,trackedItems:N,toggleTrackedItem:g}=V(),{totalPages:l,paginatedData:n}=I.useMemo(()=>{let u=r;f&&(u=u.filter(_=>N.has(_.id))),i&&(u=u.filter(_=>b.includes(_.id)));const w=Math.max(1,Math.ceil(u.length/m)),o=(x-1)*m,y=o+m,S=u.slice(o,y);return{totalPages:w,paginatedData:S}},[r,f,i,b,N,m,x]),c=u=>{g(u.id,"Current User")},h=u=>N.has(u);return C?e.jsxs("div",{className:p.tableContainer,children:[e.jsx(de,{data:n,columns:t,onEdit:s,onDelete:a,onToggleFavorite:d,onTrackToggle:c,isTracked:h,activeTab:v,itemHeight:80,maxHeight:600}),j&&e.jsx(W,{currentPage:x,totalPages:l,onPageChange:j})]}):e.jsxs("div",{className:p.tableContainer,children:[e.jsx("div",{className:p.tableWrapper,children:e.jsxs("table",{className:p.table,role:"table","aria-label":"Inventory items table",children:[e.jsx(K,{columns:t,activeTab:v}),e.jsx("tbody",{children:n.map(u=>e.jsx(ie,{item:u,onEdit:s,onDelete:a,onToggleFavorite:d,onTrackToggle:c,isTracked:h(u.id),activeTab:v},u.id))})]})}),j&&e.jsx(W,{currentPage:x,totalPages:l,onPageChange:j})]})});ue.displayName="BaseInventoryTable";const me=k.memo(({activeTab:r,filteredData:t,filteredSuppliesData:s,filteredEquipmentData:a,filteredOfficeHardwareData:d,handleEditClick:f,handleDeleteItem:i,handleToggleFavorite:m,showTrackedOnly:x=!1,showFavoritesOnly:j=!1,itemsPerPage:v})=>{const C=I.useMemo(()=>{switch(r){case"tools":return t;case"supplies":return s;case"equipment":return a;case"officeHardware":return d;default:return t}},[r,t,s,a,d]),b=I.useMemo(()=>{const N=["Name","Category","Quantity","Price"];return r==="supplies"?["Name","Category","Location","Quantity","Price"]:r==="tools"?["Name","Status","Quantity","Price"]:N},[r]);return e.jsx("div",{className:"overflow-x-auto",children:e.jsx(ue,{data:C,columns:b,onEdit:f,onDelete:i,onToggleFavorite:m,showTrackedOnly:x,showFavoritesOnly:j,itemsPerPage:v,currentPage:1,onPageChange:()=>{},activeTab:r})})});me.displayName="InventoryTables";class Ze extends k.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("Table Error Boundary caught an error:",t,s)}render(){if(this.state.hasError){const t=this.props.fallback;return t?e.jsx(t,{error:this.state.error}):e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("h3",{className:"text-red-800 font-medium",children:"Table Error"}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Something went wrong with the table display. Please refresh the page."}),this.state.error&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-red-600 text-sm cursor-pointer",children:"Error Details"}),e.jsx("pre",{className:"text-xs text-red-500 mt-1 overflow-auto",children:this.state.error.message})]})]})}return this.props.children}}var et=Object.defineProperty,ae=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable,oe=(r,t,s)=>t in r?et(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,P=(r,t)=>{for(var s in t||(t={}))tt.call(t,s)&&oe(r,s,t[s]);if(ae)for(var s of ae(t))rt.call(t,s)&&oe(r,s,t[s]);return r};const lt=k.memo(({onEdit:r,onDelete:t,items:s})=>{const{activeTab:a,showFilters:d,setShowFilters:f,searchQuery:i,setSearchQuery:m,categoryFilter:x,setCategoryFilter:j,locationFilter:v,setLocationFilter:C,showTrackedOnly:b,setShowTrackedOnly:N,showFavoritesOnly:g,setShowFavoritesOnly:l,itemsPerPage:n,favorites:c,toggleFavorite:h,openAddModal:u}=V(),{tools:w,supplies:o,equipment:y,officeHardware:S}=we(),_=k.useMemo(()=>({searchQuery:i,category:x,location:v,showTrackedOnly:b,showFavoritesOnly:g}),[i,x,v,b,g]),z=k.useMemo(()=>({filters:_,showFilters:d,setShowFilters:f,setSearchQuery:m,onToggleTrackedFilter:()=>{(a==="tools"||a==="supplies")&&N(!b)}}),[_,d,f,m,a,b,N]),R=k.useMemo(()=>({activeTab:a,filters:{searchQuery:i,category:x,location:v,showFavoritesOnly:g},setCategoryFilter:j,setLocationFilter:C,setSearchQuery:m,onToggleFavoritesFilter:()=>{l(!g)}}),[a,i,x,v,g,j,C,m,l]),M=k.useMemo(()=>({activeTab:a,filteredData:w,filteredSuppliesData:o,filteredEquipmentData:y,filteredOfficeHardwareData:S,handleEditClick:r,handleDeleteItem:t,handleToggleFavorite:h,showTrackedOnly:b,showFavoritesOnly:g,itemsPerPage:n,favorites:c}),[a,w,o,y,S,r,t,h,b,g,n,c]),A=()=>{switch(a){case"tools":return"Tools Table";case"supplies":return"Supplies Table";case"equipment":return"Equipment Table";case"officeHardware":return"Office Hardware Table";default:return"Inventory Table"}},F=()=>{switch(a){case"tools":return"Manage your tools inventory items";case"supplies":return"Manage your supplies inventory items";case"equipment":return"Manage your equipment inventory items";case"officeHardware":return"Manage your office hardware inventory items";default:return"Manage your inventory items"}};return e.jsxs("div",{role:"region","aria-label":`${a} inventory table section`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:A()}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:F()})]}),e.jsxs("button",{onClick:u,className:"px-4 py-2 bg-[#4ECDC4] hover:bg-[#3db8b0] text-white rounded-lg font-medium flex items-center gap-2 transition-colors duration-200 shadow-sm hover:shadow-md","aria-label":"Add new item to inventory",children:[e.jsx(O,{path:ye,size:1}),"Add Item"]})]}),e.jsx("div",{className:"mb-4",children:e.jsx(Ne,P({},z))}),d&&e.jsx("div",{id:"expanded-filters-panel",children:e.jsx(Ce,P({},R))}),e.jsx(Ze,{children:e.jsx(me,P({},M))})]})});lt.displayName="InventoryTableSection";export{lt as default};
