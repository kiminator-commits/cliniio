const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/LibraryFilters-B1MkGUwp.js","assets/js/react-vendor-QwocJJ0l.js","assets/js/data-vendor-74w85Vz1.js","assets/js/components-CQ0__InY.js","assets/js/services-TvYZC6AJ.js","assets/js/inventory-pages-Clxt543p.js","assets/js/ui-vendor-mgcSnJSc.js","assets/css/ui-vendor-DJSy8M6b.css","assets/js/utils-vendor-DPZjRVl3.js","assets/js/vendor-B35QfyBG.js","assets/js/knowledgehub-pages-BPCkPWE6.js","assets/css/components-B4OH_j2L.css","assets/js/LibraryHeader-U4wPULvT.js","assets/js/aiSuggestionsService-fSEuNi6D.js"])))=>i.map(i=>d[i]);
var U=(s,e,t)=>new Promise((n,i)=>{var d=r=>{try{a(t.next(r))}catch(c){i(c)}},l=r=>{try{a(t.throw(r))}catch(c){i(c)}},a=r=>r.done?n(r.value):Promise.resolve(r.value).then(d,l);a((t=t.apply(s,e)).next())});import{j as o,I as S,r as u,R as q,b as ce}from"./react-vendor-QwocJJ0l.js";import{ai as de,_ as T,s as y,g as ue,C as ge,ar as he}from"./components-CQ0__InY.js";import{as as B,h as pe,A as me,aC as G,aT as V,aZ as fe,I as ve,D as be,ah as ye,H as xe,af as we}from"./ui-vendor-mgcSnJSc.js";import{m as F}from"./utils-vendor-DPZjRVl3.js";import{aw as _e}from"./services-TvYZC6AJ.js";import"./data-vendor-74w85Vz1.js";import"./vendor-B35QfyBG.js";import"./inventory-pages-Clxt543p.js";import"./knowledgehub-pages-BPCkPWE6.js";const z=({item:s,onActionClick:e,status:t,className:n="",isFavorite:i=!1,onToggleFavorite:d,isAiSuggestion:l=!1,aiGlowIntensity:a=0,index:r=0})=>{var c;const C=x=>{switch(x){case"Favorites":return B;case"Courses":return G;case"Learning Pathways":return ve;case"Procedures":return fe;case"Policies":return V;case"SDS Sheets":return V;default:return G}},k=x=>{switch(x){case"Favorites":return"bg-yellow-100 text-yellow-800 border border-yellow-200";case"Courses":return"bg-blue-100 text-blue-800 border border-blue-200";case"Learning Pathways":return"bg-purple-100 text-purple-800 border border-purple-200";case"Procedures":return"bg-red-100 text-red-800 border border-red-200";case"Policies":return"bg-green-100 text-green-800 border border-green-200";case"SDS Sheets":return"bg-orange-100 text-orange-800 border border-orange-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},j=()=>{switch(t){case"In Progress":return"bg-green-100 text-green-700 border border-green-300 hover:bg-green-200";case"Completed":return"bg-blue-100 text-blue-700 border border-blue-300 hover:bg-blue-200";default:return l?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700 shadow-lg hover:shadow-xl":"border-2 border-[#4ECDC4] text-[#4ECDC4] hover:bg-teal-50"}},N=()=>{switch(t){case"In Progress":return"Added";case"Completed":return"Completed";default:return"+Add"}};return o.jsxs(F.div,{role:"article","aria-labelledby":`content-card-title-${s.id}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:l?r*.1:0},className:`relative group h-80 flex flex-col ${l?"bg-gradient-to-br from-white via-purple-50 to-pink-50 border-2 border-purple-200 shadow-xl hover:shadow-2xl ai-card":"bg-white border border-gray-100 shadow-lg hover:shadow-xl"} rounded-xl p-6 transition-all duration-300 transform hover:scale-105 ${n}`,style:{boxShadow:l?`0 10px 25px rgba(147, 51, 234, 0.15), 0 0 20px rgba(236, 72, 153, ${.1+Math.sin(a*.1+r)*.05})`:void 0},children:[l&&o.jsx(F.div,{animate:{opacity:[.3,.8,.3],scale:[1,1.02,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:r*.2},className:"absolute inset-0 bg-gradient-to-r from-purple-400 via-pink-400 to-orange-400 rounded-xl blur-sm -z-10"}),d&&o.jsx("button",{onClick:d,className:"absolute top-4 right-4 p-1 hover:bg-gray-100 rounded-full transition-colors duration-200",children:o.jsx(S,{path:B,size:1.2,color:i?"#FFD700":"#9CA3AF"})}),o.jsx("div",{className:"flex items-start justify-between mb-4 flex-1",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(S,{path:C(s.category),size:1,className:`${l?"text-purple-600":"text-[#4ECDC4]"}`}),o.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${k(s.category)}`,children:s.category})]}),o.jsx("h4",{id:`content-card-title-${s.id}`,className:`text-lg font-semibold mb-2 transition-colors duration-200 h-12 flex items-start ${l?"text-gray-900 group-hover:text-purple-600":"text-gray-900 group-hover:text-[#4ECDC4]"}`,children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"line-clamp-2 leading-tight",children:s.title}),s.source==="Cliniio"&&o.jsx("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-500 rounded-full text-xs font-medium border border-blue-200 flex-shrink-0",children:o.jsx(S,{path:pe,size:.6})})]})}),o.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2 h-10 leading-tight",children:String(((c=s.data)==null?void 0:c.description)||"")}),o.jsx("div",{className:`flex items-center gap-2 text-sm font-medium ${l?"text-purple-600":"text-violet-600"}`,children:o.jsxs("span",{children:["+",s.points," points"]})})]})}),o.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${l?"bg-purple-100 text-purple-800 border-purple-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:s.level}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[o.jsx(S,{path:me,size:.7}),o.jsx("span",{children:s.duration})]})]}),o.jsx("button",{onClick:e,"aria-label":`Add ${s.title} to Knowledge Hub`,className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${j()}`,children:N()})]})]})},Se=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"})),Ce=q.lazy(()=>T(()=>Promise.resolve().then(()=>Se),void 0)),je=({filteredContent:s,handleAddToList:e,getItemStatus:t,favorites:n,handleToggleFavorite:i})=>o.jsx("section",{role:"list","aria-label":"Library content list",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.jsx(u.Suspense,{fallback:o.jsx(de,{}),children:s.map((d,l)=>o.jsx(F.div,{role:"listitem",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:l*.1},children:o.jsx(Ce,{item:d,status:t(d.id),onActionClick:()=>e(d),isFavorite:n.has(d.id),onToggleFavorite:()=>i(d.id),isAiSuggestion:!1,index:l})},d.id))})});class Pe extends u.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error("Library Error:",e,t)}render(){return this.state.hasError?o.jsxs("div",{className:"p-6 bg-red-50 text-red-800 rounded-lg",children:[o.jsx("h2",{className:"text-lg font-bold",children:"Oops! Something went wrong in the Library."}),o.jsx("p",{children:"Please refresh the page or try again later."})]}):this.props.children}}var ke=(s,e,t)=>new Promise((n,i)=>{var d=r=>{try{a(t.next(r))}catch(c){i(c)}},l=r=>{try{a(t.throw(r))}catch(c){i(c)}},a=r=>r.done?n(r.value):Promise.resolve(r.value).then(d,l);a((t=t.apply(s,e)).next())});function Ne(){return ke(this,null,function*(){try{const{data:s,error:e}=yield y.from("knowledge_hub_content").select("*").eq("is_active",!0).eq("status","published").order("created_at",{ascending:!1});return e?(console.error("Error fetching content:",e),Q()):(s||[]).map(n=>De(n,"knowledge_hub_content"))}catch(s){return console.error("Error in fetchLibraryContent:",s),Q()}})}function Q(){return console.log("Using fallback content"),[{id:"handwashing-policy-1",title:"Handwashing Policies for Staff",category:"Policies",status:"Not Started",dueDate:void 0,progress:0,department:"infection_control",lastUpdated:new Date().toISOString(),source:"Cliniio",description:"Comprehensive handwashing protocols and procedures for healthcare staff to maintain infection control standards",level:"Beginner",duration:"20 min",points:7,publishedDate:new Date().toISOString()},{id:"test-item-2",title:"TEST ITEM - This Should Show",category:"Courses",status:"Not Started",dueDate:void 0,progress:0,department:"general",lastUpdated:new Date().toISOString(),source:"Cliniio",description:"This is a test item to verify the library is working",level:"Beginner",duration:"15 min",points:5,publishedDate:new Date().toISOString()}]}function Ee(s){return{course:"Courses",procedure:"Procedures",policy:"Policies",learning_pathway:"Learning Pathways"}[s]||"Courses"}function Le(s){if(!s)return"15 min";if(s<60)return`${s} min`;const e=Math.floor(s/60),t=s%60;return t===0?`${e} hr`:`${e} hr ${t} min`}const De=(s,e)=>{var t;return{id:s.id,title:s.title,description:(t=s.data)==null?void 0:t.description,category:Ee(s.content_type||e),level:s.difficulty_level||"Beginner",duration:Le(s.estimated_duration_minutes||s.estimated_read_time_minutes||0),points:s.points||0,status:"Not Started",dueDate:void 0,progress:0,department:s.department||"general",lastUpdated:s.updated_at||s.created_at||new Date().toISOString(),source:"Cliniio",publishedDate:s.published_at||s.created_at||new Date().toISOString()}};var Ae=(s,e,t)=>new Promise((n,i)=>{var d=r=>{try{a(t.next(r))}catch(c){i(c)}},l=r=>{try{a(t.throw(r))}catch(c){i(c)}},a=r=>r.done?n(r.value):Promise.resolve(r.value).then(d,l);a((t=t.apply(s,e)).next())});const Te=()=>{const[s,e]=u.useState([]),[t,n]=u.useState(!0),[i,d]=u.useState(null);return u.useEffect(()=>{Ae(null,null,function*(){try{n(!0);const a=yield Ne();e(a)}catch(a){console.error("useLibraryContent: Error loading content:",a),d(a instanceof Error?a:new Error("Failed to load content")),e([])}finally{n(!1)}})},[]),{content:s,loading:t,error:i}};var A=(s,e,t)=>new Promise((n,i)=>{var d=r=>{try{a(t.next(r))}catch(c){i(c)}},l=r=>{try{a(t.throw(r))}catch(c){i(c)}},a=r=>r.done?n(r.value):Promise.resolve(r.value).then(d,l);a((t=t.apply(s,e)).next())});class Ie{constructor(){this.tableName="knowledge_hub_content"}addToKnowledgeHub(e,t){return A(this,null,function*(){try{if(!t){const{data:{user:a}}=yield y.auth.getUser();if(!a)throw new Error("User not authenticated");t=a.id}const n=yield this.checkExistingContent(e.id,t);if(n)return{success:!1,message:"This content is already in your Knowledge Hub",contentId:n.id};const i=yield this.transformLibraryToKnowledgeHub(e,t),{data:d,error:l}=yield y.from("knowledge_hub_content").insert([i]).select().single();if(l)throw console.error("Error adding to Knowledge Hub:",l),new Error(`Failed to add content: ${l.message}`);return{success:!0,message:`"${e.title}" added to your Knowledge Hub`,contentId:d.id?String(d.id):void 0}}catch(n){console.error("Knowledge Hub integration error:",n);const i=new Error(n instanceof Error?n.message:"Failed to add content to Knowledge Hub");throw i.code="INTEGRATION_ERROR",i.details=n,i}})}checkExistingContent(e,t){return A(this,null,function*(){try{const{data:n,error:i}=yield y.from("knowledge_hub_content").select("id").eq("author_id",t).eq("title",e).single();if(i&&i.code!=="PGRST116")throw i;return n||null}catch(n){return console.error("Error checking existing content:",n),null}})}transformLibraryToKnowledgeHub(e,t){return A(this,null,function*(){var n,i,d,l;const a={description:((n=e.data)==null?void 0:n.description)||null,media:((i=e.data)==null?void 0:i.media)||null,requirements:((d=e.data)==null?void 0:d.requirements)||[],steps:((l=e.data)==null?void 0:l.steps)||[]};return{id:e.id||crypto.randomUUID(),title:e.title,content_type:e.category||"generic",content:a,domain:null,tags:[e.category,e.level].filter(Boolean),status:"not_started",author_id:t,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_active:!0}})}mapContentType(e){return{Courses:"course","Learning Pathways":"learning_pathway",Procedures:"procedure",Policies:"policy","SDS Sheets":"procedure"}[e]||"course"}getUserContentCount(e){return A(this,null,function*(){try{if(!e){const{data:{user:i}}=yield y.auth.getUser();if(!i)return 0;e=i.id}const{count:t,error:n}=yield y.from("knowledge_hub_content").select("*",{count:"exact",head:!0}).eq("author_id",e);if(n)throw n;return t||0}catch(t){return console.error("Error getting user content count:",t),0}})}removeFromKnowledgeHub(e,t){return A(this,null,function*(){try{if(!t){const{data:{user:i}}=yield y.auth.getUser();if(!i)throw new Error("User not authenticated");t=i.id}const{error:n}=yield y.from("knowledge_hub_content").delete().eq("id",e).eq("author_id",t);if(n)throw n;return!0}catch(n){return console.error("Error removing from Knowledge Hub:",n),!1}})}}const Z=new Ie;var Oe=Object.defineProperty,Fe=Object.defineProperties,He=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,$e=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable,W=(s,e,t)=>e in s?Oe(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,p=(s,e)=>{for(var t in e||(e={}))$e.call(e,t)&&W(s,t,e[t]);if(J)for(var t of J(e))Ke.call(e,t)&&W(s,t,e[t]);return s},m=(s,e)=>Fe(s,He(e)),X=(s,e,t)=>new Promise((n,i)=>{var d=r=>{try{a(t.next(r))}catch(c){i(c)}},l=r=>{try{a(t.throw(r))}catch(c){i(c)}},a=r=>r.done?n(r.value):Promise.resolve(r.value).then(d,l);a((t=t.apply(s,e)).next())});const Me=()=>{const[s,e]=u.useState({isAdding:!1,addedItems:new Set,error:null,successMessage:null}),t=u.useCallback(l=>X(null,null,function*(){e(a=>m(p({},a),{isAdding:!0,error:null,successMessage:null}));try{const a=yield Z.addToKnowledgeHub(l);a.success?(e(r=>m(p({},r),{isAdding:!1,addedItems:new Set([...r.addedItems,l.id]),successMessage:a.message})),setTimeout(()=>{e(r=>m(p({},r),{successMessage:null}))},3e3)):(e(r=>m(p({},r),{isAdding:!1,error:a.message})),setTimeout(()=>{e(r=>m(p({},r),{error:null}))},5e3))}catch(a){const r=a instanceof Error?a.message:"Failed to add content to Knowledge Hub";e(c=>m(p({},c),{isAdding:!1,error:r})),setTimeout(()=>{e(c=>m(p({},c),{error:null}))},5e3)}}),[]),n=u.useCallback(l=>X(null,null,function*(){try{(yield Z.removeFromKnowledgeHub(l))?(e(r=>m(p({},r),{addedItems:new Set([...r.addedItems].filter(c=>c!==l)),successMessage:"Content removed from Knowledge Hub"})),setTimeout(()=>{e(r=>m(p({},r),{successMessage:null}))},3e3)):(e(r=>m(p({},r),{error:"Failed to remove content from Knowledge Hub"})),setTimeout(()=>{e(r=>m(p({},r),{error:null}))},5e3))}catch(a){console.error(a),e(r=>m(p({},r),{error:"Failed to remove content from Knowledge Hub"})),setTimeout(()=>{e(r=>m(p({},r),{error:null}))},5e3)}}),[]),i=u.useCallback(()=>{e(l=>m(p({},l),{error:null,successMessage:null}))},[]),d=u.useCallback(l=>s.addedItems.has(l),[s.addedItems]);return{state:s,addToKnowledgeHub:t,removeFromKnowledgeHub:n,clearMessages:i,isInKnowledgeHub:d}};function Re(){const[s,e]=u.useState(""),[t,n]=u.useState(!1),[i,d]=u.useState(new Set),[l,a]=u.useState({category:"",skillLevel:"",timeline:"",status:"",source:"",showNewOnly:!1}),[r,c]=u.useState("All"),[C,k]=u.useState("All"),[j]=u.useState(()=>_e.getInstance()),[N,x]=u.useState(!1),[f,E]=u.useState(0),[I,L]=u.useState(!1),O=u.useMemo(()=>["All","Beginner","Intermediate","Advanced"],[]),H=u.useMemo(()=>["< 1 hour","1-3 hours","3-5 hours","5+ hours"],[]),$=u.useMemo(()=>["Not Started","In Progress","Completed"],[]),K=u.useMemo(()=>["All Sources","Cliniio","Admin"],[]),M=u.useMemo(()=>["All","Favorites","Courses","Learning Pathways","Procedures","Policies","SDS Sheets"],[]);return{searchQuery:s,setSearchQuery:e,showFilters:t,setShowFilters:n,favorites:i,setFavorites:d,filters:l,setFilters:a,selectedCategory:r,setSelectedCategory:c,selectedLevel:C,setSelectedLevel:k,progressService:j,aiSuggestionsActive:N,setAiSuggestionsActive:x,aiGlowIntensity:f,setAiGlowIntensity:E,showAiTooltip:I,setShowAiTooltip:L,skillLevels:O,timelines:H,statuses:$,sources:K,categories:M}}var Ue=(s,e,t)=>new Promise((n,i)=>{var d=r=>{try{a(t.next(r))}catch(c){i(c)}},l=r=>{try{a(t.throw(r))}catch(c){i(c)}},a=r=>r.done?n(r.value):Promise.resolve(r.value).then(d,l);a((t=t.apply(s,e)).next())});const ze=q.lazy(()=>T(()=>import("./LibraryFilters-B1MkGUwp.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),qe=q.lazy(()=>T(()=>import("./LibraryHeader-U4wPULvT.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10,11]))),Be=()=>{const s=ce(),{addToKnowledgeHub:e}=Me(),{currentUser:t}=ue(),{searchQuery:n,setSearchQuery:i,showFilters:d,setShowFilters:l,favorites:a,setFavorites:r,filters:c,setFilters:C,selectedCategory:k,setSelectedCategory:j,selectedLevel:N,setSelectedLevel:x,progressService:f,aiSuggestionsActive:E,setAiSuggestionsActive:I,aiGlowIntensity:L,setAiGlowIntensity:O,showAiTooltip:H,setShowAiTooltip:$,skillLevels:K,timelines:M,statuses:Y,sources:ee,categories:te}=Re(),{content:D}=Te();u.useEffect(()=>{const g=setInterval(()=>{O(h=>h+1)},100);return()=>clearInterval(g)},[E,O]);const re=D.filter(g=>{var h;const v=n===""||g.title.toLowerCase().includes(n.toLowerCase())||String(((h=g.data)==null?void 0:h.description)||"").toLowerCase().includes(n.toLowerCase())||g.category.toLowerCase().includes(n.toLowerCase()),b=!c.category||g.category===c.category,P=!c.skillLevel||g.level===c.skillLevel,w=!c.status||g.status===c.status,_=!c.source||g.source===c.source;return v&&b&&P&&w&&_}),se=u.useCallback(()=>{I(g=>{const h=!g;if(h){const v={session_start:new Date().toISOString(),content_items_accessed:D.map(b=>b.id),learning_path_progress:{ai_suggestions_enabled:!0},learning_patterns:{ai_interaction:"enabled"}};T(()=>U(null,null,function*(){const{AISuggestionsService:b}=yield import("./aiSuggestionsService-fSEuNi6D.js");return{AISuggestionsService:b}}),__vite__mapDeps([13,3,1,2,9,4,5,6,7,8,10,11])).then(({AISuggestionsService:b})=>{new b().storeLearningSessionAnalytics(v)})}return h})},[D,I]),R=u.useCallback(g=>{r(h=>{const v=new Set(h);v.has(g)?v.delete(g):v.add(g);const b=h.has(g)?"removed":"added",P={session_start:new Date().toISOString(),content_items_accessed:[g],learning_path_progress:{favorites_updated:!0},learning_patterns:{favorite_action:b}};return T(()=>U(null,null,function*(){const{AISuggestionsService:w}=yield import("./aiSuggestionsService-fSEuNi6D.js");return{AISuggestionsService:w}}),__vite__mapDeps([13,3,1,2,9,4,5,6,7,8,10,11])).then(({AISuggestionsService:w})=>{new w().storeLearningSessionAnalytics(P)}),v})},[r]),oe=u.useCallback(g=>(f==null?void 0:f.getItemStatus(g))||"Not Started",[f]),ne=u.useCallback(g=>D.filter(h=>h.category===g).length,[D]),ae=u.useCallback(()=>{C({category:"",skillLevel:"",status:"",source:"",timeline:"",showNewOnly:!1}),j(""),x("")},[C,j,x]),ie=u.useCallback(g=>Ue(null,null,function*(){try{const{data:{user:h}}=yield y.auth.getUser();if(!h){console.error("No authenticated user");return}let v="courses";g.category==="Policies"?v="policies":g.category==="Procedures"&&(v="procedures");const b={user_id:h.id,content_id:g.id,content_type:v,status:"not_started",progress_percentage:0,assigned_at:new Date().toISOString(),is_repeat:g.isRepeat||!1},{error:P}=yield y.from("knowledge_hub_user_progress").insert([b]);if(P){console.error("Error adding to knowledge hub:",P);return}console.log("Successfully added to knowledge hub:",g.title),yield e(g),console.log("✅ Added to Knowledge Hub:",g.title);const w=document.querySelector(`[data-item-id="${g.id}"]`);if(w){const _=w.querySelector("button[onclick]")||w.querySelector("button:last-child");if(_){const le=_.textContent;_.textContent="Added!",_.classList.add("bg-green-500","text-white"),setTimeout(()=>{_.textContent=le,_.classList.remove("bg-green-500","text-white")},2e3)}else console.log("Button not found in card, item ID:",g.id)}else console.log("Card not found for visual feedback, item ID:",g.id)}catch(h){console.error("Error adding to knowledge hub:",h)}}),[e]);return o.jsx(Pe,{children:o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white",children:[o.jsx("div",{className:"p-6",children:o.jsxs("button",{onClick:()=>s("/knowledge-hub"),className:"inline-flex items-center gap-2 text-sm text-gray-600 hover:text-[#4ECDC4] transition-colors duration-200",children:[o.jsx(S,{path:be,size:.8,className:"rotate-180"}),"Back to Knowledge Hub"]})}),o.jsx(u.Suspense,{fallback:o.jsx(ge,{}),children:o.jsx(qe,{})}),o.jsx("div",{className:"px-6 pb-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:o.jsx(S,{path:ye,size:1.2,className:"text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Search courses, procedures, policies...",value:n,onChange:g=>i(g.target.value),className:"w-full pl-12 pr-4 py-4 text-lg border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-4 focus:ring-[#4ECDC4]/20 focus:border-[#4ECDC4] transition-all duration-200 shadow-sm","aria-label":"Search content"}),o.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center gap-2",children:o.jsx("button",{onClick:()=>l(!d),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors duration-200 shadow-md ${d?"bg-[#4ECDC4] text-white hover:bg-[#3db8b0]":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:o.jsx(S,{path:xe,size:1})})})]})}),o.jsx(u.Suspense,{fallback:o.jsx(he,{}),children:o.jsx(ze,{showFilters:d,filters:c,setFilters:C,selectedCategory:k,setSelectedCategory:j,selectedLevel:N,setSelectedLevel:x,handleResetFilters:ae,handleToggleAiSuggestions:se,aiSuggestionsActive:E,aiGlowIntensity:L,showAiTooltip:H,setShowAiTooltip:$,skillLevels:K,timelines:M,statuses:Y,sources:ee,categories:te,getCategoryCount:ne})})]})}),o.jsx("div",{className:"px-6 pb-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[E&&o.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-[#4ECDC4]/10 to-[#3db8b0]/10 rounded-2xl p-8 mb-8 border border-[#4ECDC4]/20",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-[#4ECDC4] rounded-full flex items-center justify-center",children:o.jsx(S,{path:we,size:1.2,color:"white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"AI-Powered Recommendations"}),o.jsx("p",{className:"text-gray-600",children:"Personalized content suggestions based on your role and learning history"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(z,{item:{id:"ai-1",title:"Infection Control Mastery",category:"Procedures",description:"Advanced techniques for maintaining sterile environments",level:"Advanced",duration:"75 min",points:65,status:"Not Started",source:"Cliniio",publishedDate:"2025-01-15"},status:(f==null?void 0:f.getItemStatus("ai-1"))||"Not Started",onActionClick:()=>{f==null||f.markInProgress("ai-1")},isFavorite:a.has("ai-1"),onToggleFavorite:()=>R("ai-1"),isAiSuggestion:!0,aiGlowIntensity:L,index:0}),o.jsx(z,{item:{id:"ai-2",title:"Patient Safety Leadership",category:"Learning Pathways",description:"Develop leadership skills in patient safety protocols",level:"Advanced",duration:"120 min",points:85,status:"Not Started",source:"Cliniio",publishedDate:"2025-01-10"},status:(f==null?void 0:f.getItemStatus("ai-2"))||"Not Started",onActionClick:()=>{f==null||f.markInProgress("ai-2")},isFavorite:a.has("ai-2"),onToggleFavorite:()=>R("ai-2"),isAiSuggestion:!0,aiGlowIntensity:L,index:1})]})]}),o.jsx(je,{filteredContent:re,handleAddToList:ie,getItemStatus:oe,favorites:a,handleToggleFavorite:R})]})})]})})},Ge=u.createContext(void 0),Ve=({children:s})=>{const[e,t]=u.useState("favourites");return o.jsx(Ge.Provider,{value:{activeTab:e,setActiveTab:t},children:s})},ot=()=>o.jsx(Ve,{children:o.jsx(Be,{})});export{ot as default};
