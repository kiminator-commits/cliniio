import{j as e}from"./utils-DSBVV_PW.js";import{j as h,u as p,a as d}from"./vendor-DoALFvsH.js";import{R as g,h as u}from"./main-DVBlW6kB.js";import"./login-CtXU169Q.js";import"./data-73RVSc-N.js";import"./ui-DETUEJ2B.js";var f=(a,x,t)=>new Promise((m,n)=>{var l=s=>{try{r(t.next(s))}catch(i){n(i)}},c=s=>{try{r(t.throw(s))}catch(i){n(i)}},r=s=>s.done?m(s.value):Promise.resolve(s.value).then(l,c);r((t=t.apply(a,x)).next())});function w(){const{slug:a}=h(),x=p(),[t,m]=d.useState(null),[n,l]=d.useState(!0),[c,r]=d.useState(null);d.useEffect(()=>{f(null,null,function*(){if(!a){r("Article not found"),l(!1);return}try{const o=yield u.getArticleBySlug(a);if(!o){r("Article not found"),l(!1);return}m(o),yield u.incrementViewCount(a)}catch(o){console.error("Error loading article:",o),r("Failed to load article")}finally{l(!1)}})},[a]);const s=()=>{window.close()};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(g,{size:"lg",message:"Loading article..."})}):c||!t?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-red-600 text-2xl",children:"❌"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Article Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:c}),e.jsx("button",{onClick:s,className:"bg-[#4ECDC4] text-white px-4 py-2 rounded-lg hover:bg-[#4ECDC4]/90 transition-colors",children:"Back to Help"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:s,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors mb-4",children:[e.jsx("span",{className:"mr-2",children:"←"}),"Back to Help"]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsx("span",{className:"bg-[#4ECDC4]/10 text-[#4ECDC4] px-2 py-1 rounded-full",children:t.category.replace("-"," ").toUpperCase()}),t.subcategory&&e.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:t.subcategory.replace("-"," ")}),e.jsxs("span",{children:[t.view_count," views"]}),e.jsxs("span",{children:["Updated ",new Date(t.updated_at).toLocaleDateString()]})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content},className:"help-article-content"})})}),e.jsx("div",{className:"mt-8 text-center text-gray-500 text-sm",children:e.jsxs("p",{children:["Was this article helpful?",e.jsx("button",{onClick:()=>x("/help"),className:"text-[#4ECDC4] hover:text-[#4ECDC4]/80 ml-1 underline",children:"Provide feedback"})]})})]})})}export{w as default};
