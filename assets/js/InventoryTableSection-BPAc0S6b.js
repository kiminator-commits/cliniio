import{j as e}from"./utils-5cl0BHpv.js";import{R as q,a as _}from"./vendor-DVtBqAv5.js";import{I as O,bc as se,b as _e,bd as Ie,N as ze,n as re,c as ke,r as Oe,J as qe,T as fe,an as E,be as Re,$ as Te}from"./errors-BMV5cHgT.js";import{C as le,B as oe,G as A,q as Me,_ as $e,H as De}from"./main-Ccza29P3.js";import{u as xe}from"./useTrackedTools-DjXMslGR.js";import"./login-CgiYf71G.js";import"./data-Djiu4445.js";import"./ui-C2vLYFVP.js";function J(){return J=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)({}).hasOwnProperty.call(s,o)&&(a[o]=s[o])}return a},J.apply(null,arguments)}const ge=q.memo(({className:a=""})=>{const[t,s]=_.useState([]),[o,n]=_.useState([]),[i,x]=_.useState("all"),[m,f]=_.useState(!1);_.useEffect(()=>{const d=()=>{const r=le.getNotificationHistory();s(r),n(r)};d();const l=setInterval(d,5e3);return()=>clearInterval(l)},[]),_.useEffect(()=>{setTimeout(()=>{n(i==="all"?t:t.filter(d=>d.type===i))},0)},[t,i]);const y=d=>{switch(d){case"tool_available":return Oe;case"position_changed":case"queue_update":return re;case"tool_unavailable":return ke;default:return re}},N=d=>{switch(d){case"tool_available":return"text-green-500";case"position_changed":case"queue_update":return"text-blue-500";case"tool_unavailable":return"text-orange-500";default:return"text-gray-500"}},v=d=>{if(d.title.includes("ðŸ”¥"))return"bg-red-50 border-red-200";if(d.title.includes("âš¡"))return"bg-yellow-50 border-yellow-200";if(d.title.includes("ðŸ“‹"))return"bg-gray-50 border-gray-200";switch(d.type){case"tool_available":return"bg-green-50 border-green-200";case"position_changed":case"queue_update":return"bg-blue-50 border-blue-200";case"tool_unavailable":return"bg-orange-50 border-orange-200";default:return"bg-gray-50 border-gray-200"}},w=()=>{le.clearNotificationHistory(),s([]),n([])};return m?e.jsxs("div",{className:`fixed bottom-4 right-4 w-96 max-h-96 bg-white rounded-lg shadow-xl border ${a}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(O,{path:se,size:1.2,className:"mr-2 text-blue-500"}),"Notification History"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:w,className:"text-sm text-gray-500 hover:text-gray-700",title:"Clear history",children:"Clear"}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(O,{path:_e,size:1})})]})]}),e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{path:Ie,size:1,className:"text-gray-500"}),e.jsxs("select",{value:i,onChange:d=>x(d.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"tool_available",children:"Tool Available"}),e.jsx("option",{value:"position_changed",children:"Position Changed"}),e.jsx("option",{value:"queue_update",children:"Queue Update"}),e.jsx("option",{value:"tool_unavailable",children:"Tool Unavailable"})]})]})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:o.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(O,{path:ze,size:2,className:"mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No notifications in history"})]}):e.jsx("div",{className:"p-2 space-y-2",children:o.map(d=>e.jsx("div",{className:`${v(d)} border rounded-lg p-3 text-sm`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(O,{path:y(d.type),size:1,className:`${N(d.type)} mr-2 mt-0.5`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-xs",children:d.title}),e.jsx("p",{className:"text-gray-600 text-xs mt-1",children:d.message}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:new Date(d.timestamp).toLocaleString()}),e.jsx("span",{className:"text-xs text-gray-500",children:d.toolName})]})]})]})},d.id))})})]}):e.jsxs("button",{onClick:()=>f(!0),className:`font-medium px-4 py-2 rounded-md border border-gray-300 shadow-sm flex items-center focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:ring-offset-1 min-w-fit whitespace-nowrap bg-white hover:bg-gray-50 text-gray-700 ${a}`,title:"View notification history",children:[e.jsx(O,{path:se,size:1,className:"mr-2","aria-hidden":"true"}),"History",t.length>0&&e.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:t.length})]})});ge.displayName="NotificationHistory";const be=q.memo(({filters:a,showFilters:t,setShowFilters:s,onToggleTrackedFilter:o})=>{const n=_.useRef(null),i=_.useRef(null),x=(m,f)=>{var y,N;switch(m.key){case"ArrowRight":m.preventDefault(),f==="filter"&&o&&((y=i.current)==null||y.focus());break;case"ArrowLeft":m.preventDefault(),f==="tracked"&&o&&((N=n.current)==null||N.focus());break;case"Enter":case" ":{m.preventDefault(),f==="filter"?s(!t):f==="tracked"&&o&&o();break}case"Escape":{m.preventDefault(),t&&s(!1);const v=m.currentTarget.closest('[role="toolbar"]');v&&v.focus();break}}};return _.useEffect(()=>{if(t){const m=document.querySelector("#expanded-filters-panel input");m&&m.focus()}},[t]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-2 overflow-x-hidden",role:"toolbar","aria-label":"Inventory filtering controls",tabIndex:-1,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(oe,{ref:n,variant:"outline-secondary",className:"font-medium px-4 py-2 rounded-md border border-gray-300 shadow-sm flex items-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",onClick:()=>s(!t),onKeyDown:m=>x(m,"filter"),"aria-expanded":t,"aria-controls":"expanded-filters-panel","aria-label":`${t?"Hide":"Show"} advanced filters`,tabIndex:0,children:[e.jsx(O,{path:qe,size:1,className:"mr-2","aria-hidden":"true"}),"Filters"]}),o&&e.jsxs(oe,{ref:i,variant:"outline-secondary",className:`font-medium px-4 py-2 rounded-md border border-gray-300 shadow-sm flex items-center focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:ring-offset-1 min-w-fit whitespace-nowrap ${a.showTrackedOnly?"bg-[#4ECDC4] text-white border-[#4ECDC4]":""}`,onClick:o,onKeyDown:m=>x(m,"tracked"),"aria-pressed":a.showTrackedOnly,"aria-label":`${a.showTrackedOnly?"Hide":"Show"} tracked items only`,tabIndex:0,children:[e.jsx(O,{path:fe,size:1,className:"mr-2","aria-hidden":"true"}),"Tracked Only"]}),e.jsx(ge,{})]})})})});be.displayName="InventoryFilters";const Fe=({activeTab:a,filters:t,setCategoryFilter:s,setLocationFilter:o,setSearchQuery:n,onToggleFavoritesFilter:i})=>{const{mergeMode:x,setMergeMode:m,selectedItems:f,clearSelectedItems:y}=A(),{getActiveRooms:N}=Me(),v=N(),w=()=>{x?(y(),m(!1)):m(!0)},d=()=>{if(f.length<2){alert("Please select at least 2 items to merge");return}console.log("Merging items:",Array.from(f))};return e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200 flex flex-wrap gap-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"search-input",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Search"}),e.jsx("input",{id:"search-input",type:"text",placeholder:"Search inventory...",className:"form-control w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.searchQuery||"",onChange:l=>n(l.target.value)})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"location-search-input",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Filter by Location"}),e.jsx("input",{id:"location-search-input",type:"text",placeholder:"Filter by location...",className:"form-control w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.location||"",onChange:l=>o(l.target.value)})]}),a==="tools"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Category"}),e.jsxs("select",{id:"category-select",className:"form-select",value:t.category||"",onChange:l=>s(l.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Tools",children:"Tools"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Location"}),e.jsxs("select",{id:"location-select",className:"form-select",value:t.location||"",onChange:l=>o(l.target.value),children:[e.jsx("option",{value:"",children:"All"}),v.map(l=>e.jsx("option",{value:l.name,children:l.name},l.id))]})]}),i&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tools-favorites-filter-btn",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Quick Filter"}),e.jsxs("button",{id:"tools-favorites-filter-btn",onClick:i,className:`flex items-center gap-2 px-3 py-2 rounded-md border transition-colors ${t.showFavoritesOnly?"bg-yellow-500 text-white border-yellow-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[e.jsx(O,{path:E,size:.8}),e.jsx("span",{className:"text-sm",children:"Favorites"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tools-merge-filter-btn",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Actions"}),x?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-600",children:[f.length," selected"]}),e.jsx("button",{onClick:d,disabled:f.length<2,className:"px-3 py-1 bg-blue-500 text-white rounded text-sm disabled:bg-gray-300",children:"Merge Selected"}),e.jsx("button",{onClick:w,className:"px-3 py-1 bg-gray-500 text-white rounded text-sm",children:"Cancel"})]}):e.jsxs("button",{id:"tools-merge-filter-btn",onClick:w,className:"flex items-center gap-2 px-3 py-2 rounded-md border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(O,{path:Re,size:.8}),e.jsx("span",{className:"text-sm",children:"Merge Duplicates"})]})]})]}),a==="supplies"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"supply-category-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Category"}),e.jsxs("select",{id:"supply-category-select",className:"form-select",value:t.category||"",onChange:l=>s(l.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Supplies",children:"Supplies"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"supply-location-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Location"}),e.jsxs("select",{id:"supply-location-select",className:"form-select",value:t.location||"",onChange:l=>o(l.target.value),children:[e.jsx("option",{value:"",children:"All"}),v.map(l=>e.jsx("option",{value:l.name,children:l.name},l.id))]})]}),i&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"supplies-favorites-filter-btn",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Quick Filter"}),e.jsxs("button",{id:"supplies-favorites-filter-btn",onClick:i,className:`flex items-center gap-2 px-3 py-2 rounded-md border transition-colors ${t.showFavoritesOnly?"bg-yellow-500 text-white border-yellow-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[e.jsx(O,{path:E,size:.8}),e.jsx("span",{className:"text-sm",children:"Favorites"})]})]})]}),a==="equipment"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"equipment-category-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Category"}),e.jsxs("select",{id:"equipment-category-select",className:"form-select",value:t.category||"",onChange:l=>s(l.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Equipment",children:"Equipment"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"equipment-location-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Location"}),e.jsxs("select",{id:"equipment-location-select",className:"form-select",value:t.location||"",onChange:l=>o(l.target.value),children:[e.jsx("option",{value:"",children:"All"}),v.map(l=>e.jsx("option",{value:l.name,children:l.name},l.id))]})]}),i&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"equipment-favorites-filter-btn",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Quick Filter"}),e.jsxs("button",{id:"equipment-favorites-filter-btn",onClick:i,className:`flex items-center gap-2 px-3 py-2 rounded-md border transition-colors ${t.showFavoritesOnly?"bg-yellow-500 text-white border-yellow-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[e.jsx(O,{path:E,size:.8}),e.jsx("span",{className:"text-sm",children:"Favorites"})]})]})]}),a==="officeHardware"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hardware-category-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Category"}),e.jsxs("select",{id:"hardware-category-select",className:"form-select",value:t.category||"",onChange:l=>s(l.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Office Hardware",children:"Office Hardware"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hardware-location-select",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Location"}),e.jsxs("select",{id:"hardware-location-select",className:"form-select",value:t.location||"",onChange:l=>o(l.target.value),children:[e.jsx("option",{value:"",children:"All"}),v.map(l=>e.jsx("option",{value:l.name,children:l.name},l.id))]})]}),i&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hardware-favorites-filter-btn",className:"block text-xs font-semibold text-gray-600 mb-1",children:"Quick Filter"}),e.jsxs("button",{id:"hardware-favorites-filter-btn",onClick:i,className:`flex items-center gap-2 px-3 py-2 rounded-md border transition-colors ${t.showFavoritesOnly?"bg-yellow-500 text-white border-yellow-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[e.jsx(O,{path:E,size:.8}),e.jsx("span",{className:"text-sm",children:"Favorites"})]})]})]})]})},Ee="_tableContainer_18z7q_2",Ae="_table_18z7q_2",He="_tableHeader_18z7q_26",Be="_tableHeaderCell_18z7q_34",Le="_tableCell_18z7q_45",Pe="_tableRow_18z7q_90",We="_selectedRow_18z7q_104",Ve="_actionGroup_18z7q_124",Ue="_actionButton_18z7q_133",Ke="_editButton_18z7q_166",Qe="_deleteButton_18z7q_177",Ge="_trackButton_18z7q_188",Je="_tracked_18z7q_203",Ye="_virtualizedList_18z7q_240",Xe="_virtualizedOverlay_18z7q_249",Ze="_virtualizedBody_18z7q_262",et="_virtualizedRow_18z7q_268",g={tableContainer:Ee,table:Ae,tableHeader:He,tableHeaderCell:Be,tableCell:Le,tableRow:Pe,selectedRow:We,actionGroup:Ve,actionButton:Ue,editButton:Ke,deleteButton:Qe,trackButton:Ge,tracked:Je,virtualizedList:Ye,virtualizedOverlay:Xe,virtualizedBody:Ze,virtualizedRow:et},tt="_tooltipContainer_7fsb9_2",at="_tooltipContent_7fsb9_7",st="_tooltipArrow_7fsb9_35",U={tooltipContainer:tt,tooltipContent:at,tooltipArrow:st},X=q.memo(_.forwardRef(({item:a,activeTab:t,onEdit:s,onDelete:o,onToggleFavorite:n,onTrackToggle:i,isTracked:x=!1},m)=>{const{favorites:f,toggleFavorite:y,openDeleteModal:N}=A(),{getToolTrackers:v}=xe(),w=f.includes(a.id),d=v(a.id),l=d.length,c=d.some(j=>j.doctorName==="Current Doctor")?d.findIndex(j=>j.doctorName==="Current Doctor")+1:0,u=j=>{s(j)},p=_.useRef(null),b=_.useRef(null),S=_.useRef(null),h=_.useRef(null);_.useImperativeHandle(m,()=>({focusEdit:()=>{var j;return(j=p.current)==null?void 0:j.focus()},focusFavorite:()=>{var j;return(j=b.current)==null?void 0:j.focus()},focusTrack:()=>{var j;return(j=S.current)==null?void 0:j.focus()},focusDelete:()=>{var j;return(j=h.current)==null?void 0:j.focus()}}));const C=(j,$)=>{if(j.key==="Enter"||j.key===" ")switch(j.preventDefault(),$){case"edit":s(a);break;case"favorite":y(a.id);break;case"track":i==null||i(a);break;case"delete":z();break}},I=()=>{i==null||i(a)},k=()=>{n?n(a.id):y(a.id)},z=()=>{N(a)},R=x?`Stop tracking (You are ${c}/${l} in queue)`:`Start tracking (${l} in queue)`;return e.jsx("td",{className:g.tableCell,children:e.jsxs("div",{className:g.actionGroup,children:[e.jsxs("button",{ref:p,onClick:()=>u(a),onKeyDown:j=>C(j,"edit"),className:`${g.actionButton} ${g.editButton} text-xs px-2 py-0.5 flex items-center`,"aria-label":`Edit ${a.name||"item"}`,tabIndex:0,children:[e.jsx("svg",{className:"inline-block mr-1",width:"12",height:"12",fill:"currentColor",viewBox:"0 0 16 16","aria-hidden":"true",children:e.jsx("path",{d:"M15.502 1.94a1.5 1.5 0 0 1 0 2.12l-1.439 1.439-2.12-2.12 1.439-1.439a1.5 1.5 0 0 1 2.12 0zm-2.561 2.561-9.193 9.193a.5.5 0 0 0-.121.196l-1 3a.5.5 0 0 0 .633.633l3-1a.5.5 0 0 0 .196-.12l9.193-9.194-2.12-2.12z"})}),"Edit"]}),t==="tools"&&e.jsx("button",{ref:b,onClick:k,onKeyDown:j=>C(j,"favorite"),className:`${g.actionButton} ${w?"!text-yellow-500 !bg-yellow-50 !border-yellow-200 hover:!text-yellow-600":"text-gray-400 hover:text-yellow-500 hover:bg-yellow-50"} transition-colors duration-200`,"aria-label":`${w?"Remove from":"Add to"} favorites`,"aria-pressed":w,tabIndex:0,children:e.jsx(O,{path:E,size:.8,className:w?"fill-current":"","aria-hidden":"true"})}),(t==="tools"||t==="supplies")&&e.jsxs("div",{className:U.tooltipContainer,children:[e.jsxs("button",{ref:S,onClick:I,onKeyDown:j=>C(j,"track"),className:`${g.actionButton} ${g.trackButton} ${x?g.tracked:""} relative`,"aria-label":R,"aria-pressed":x,tabIndex:0,children:[e.jsx(O,{path:fe,size:1.2,"aria-hidden":"true"}),l>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:l})]}),e.jsxs("div",{className:U.tooltipContent,children:[R,e.jsx("div",{className:U.tooltipArrow})]})]}),e.jsxs("button",{ref:h,onClick:z,onKeyDown:j=>C(j,"delete"),className:`${g.actionButton} ${g.deleteButton} text-xs px-2 py-0.5 flex items-center`,"aria-label":`Delete ${a.name||"item"}`,tabIndex:0,children:[e.jsxs("svg",{className:"inline-block mr-1",width:"12",height:"12",fill:"currentColor",viewBox:"0 0 16 16","aria-hidden":"true",children:[e.jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),e.jsx("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]}),"Delete"]})]})})}));X.displayName="TableActions";const ye=q.memo(({item:a,onEdit:t,onDelete:s,onToggleFavorite:o,onTrackToggle:n,isTracked:i,activeTab:x})=>{const{mergeMode:m,selectedItems:f,toggleItemSelection:y}=A(),N=()=>{m&&y(a.id)},v=f.includes(a.id),w=_.useMemo(()=>{var d;const l=e.jsxs("td",{className:g.tableCell,children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.name}),a.data&&typeof a.data=="object"&&"description"in a.data&&typeof a.data.description=="string"&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:a.data.description})]},"name"),r=e.jsx("td",{className:g.tableCell,children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:a.category})},"category"),c=e.jsx("td",{className:g.tableCell,children:e.jsx("span",{className:`font-medium ${(a.quantity||0)<10?"text-red-600":"text-gray-900"}`,children:a.quantity||0})},"quantity"),u=e.jsxs("td",{className:g.tableCell,children:["$",(a.unit_cost||0).toFixed(2)]},"price"),p=[l];if(x!=="tools"&&p.push(r),x==="supplies")p.push(e.jsx("td",{className:g.tableCell,children:a.location||"N/A"},"location"));else if(x==="tools"){const S=a.status||"N/A",h=a.data&&typeof a.data=="object"&&"p2Status"in a.data&&typeof a.data.p2Status=="string"?a.data.p2Status==="P2":a.p2_status==="P2"||!1;p.push(e.jsx("td",{className:g.tableCell,children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S==="active"?"bg-green-100 text-green-800":S==="inactive"?"bg-red-100 text-red-800":S==="p2"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:S.toUpperCase()}),h&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"P2"})]})},"status"))}x!=="tools"&&p.push(c),p.push(u);const b=e.jsx("td",{className:g.tableCell,children:(d=a.scanned_location)!=null?d:e.jsx("span",{className:"text-gray-400",children:"Unassigned"})},"location");return p.push(b),p},[a,x]);return e.jsxs("tr",{className:`${g.tableRow} ${v?g.selectedRow:""}`,tabIndex:0,onClick:N,style:{cursor:m?"pointer":"default"},children:[w,e.jsx(X,{item:a,onEdit:t,onDelete:s,onToggleFavorite:o,onTrackToggle:n,isTracked:i,activeTab:x})]})});ye.displayName="TableRow";const Z=q.memo(({columns:a,activeTab:t})=>e.jsx("thead",{className:g.tableHeader,children:e.jsxs("tr",{children:[a.map(s=>t==="tools"&&(s==="category"||s==="quantity")?null:e.jsx("th",{className:`${g.tableHeaderCell} text-gray-500 inventory-table-header`,scope:"col","aria-label":s.toLowerCase(),style:{color:"#6b7280"},children:s},s)),e.jsx("th",{className:`${g.tableHeaderCell} text-gray-500 inventory-table-header`,scope:"col","aria-label":"Item actions",style:{color:"#6b7280"},children:"Actions"})]})}));Z.displayName="TableHeader";const Y=q.memo(({currentPage:a,totalPages:t,onPageChange:s})=>e.jsxs("div",{className:"flex justify-center items-center mt-4 gap-4",role:"navigation","aria-label":"Table pagination",children:[e.jsx("button",{onClick:()=>s(Math.max(1,a-1)),disabled:a===1,className:"px-3 py-1 border rounded-md disabled:opacity-50 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1","aria-label":"Go to previous page","aria-disabled":a===1,tabIndex:0,children:"Previous"}),e.jsxs("span",{className:"text-sm text-gray-700","aria-label":`Page ${a} of ${t}`,children:["Page ",a," of ",t]}),e.jsx("button",{onClick:()=>s(Math.min(t,a+1)),disabled:a===t,className:"px-3 py-1 border rounded-md disabled:opacity-50 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1","aria-label":"Go to next page","aria-disabled":a===t,tabIndex:0,children:"Next"})]}));Y.displayName="TablePagination";function ne(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}var ie=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function rt(a,t){return!!(a===t||ie(a)&&ie(t))}function lt(a,t){if(a.length!==t.length)return!1;for(var s=0;s<a.length;s++)if(!rt(a[s],t[s]))return!1;return!0}function K(a,t){t===void 0&&(t=lt);var s,o=[],n,i=!1;function x(){for(var m=[],f=0;f<arguments.length;f++)m[f]=arguments[f];return i&&s===this&&t(m,o)||(n=a.apply(this,m),i=!0,s=this,o=m),n}return x}var ot=typeof performance=="object"&&typeof performance.now=="function",ce=ot?function(){return performance.now()}:function(){return Date.now()};function de(a){cancelAnimationFrame(a.id)}function nt(a,t){var s=ce();function o(){ce()-s>=t?a.call(null):n.id=requestAnimationFrame(o)}var n={id:requestAnimationFrame(o)};return n}var Q=-1;function ue(a){if(a===void 0&&(a=!1),Q===-1||a){var t=document.createElement("div"),s=t.style;s.width="50px",s.height="50px",s.overflow="scroll",document.body.appendChild(t),Q=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Q}var M=null;function he(a){if(a===void 0&&(a=!1),M===null||a){var t=document.createElement("div"),s=t.style;s.width="50px",s.height="50px",s.overflow="scroll",s.direction="rtl";var o=document.createElement("div"),n=o.style;return n.width="100px",n.height="100px",t.appendChild(o),document.body.appendChild(t),t.scrollLeft>0?M="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?M="negative":M="positive-ascending"),document.body.removeChild(t),M}return M}var it=150,ct=function(t,s){return t};function dt(a){var t,s=a.getItemOffset,o=a.getEstimatedTotalSize,n=a.getItemSize,i=a.getOffsetForIndexAndAlignment,x=a.getStartIndexForOffset,m=a.getStopIndexForStartIndex,f=a.initInstanceProps,y=a.shouldResetStyleCacheOnItemSizeChange,N=a.validateProps;return t=(function(v){$e(w,v);function w(l){var r;return r=v.call(this,l)||this,r._instanceProps=f(r.props,ne(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:ne(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof r.props.initialScrollOffset=="number"?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=K(function(c,u,p,b){return r.props.onItemsRendered({overscanStartIndex:c,overscanStopIndex:u,visibleStartIndex:p,visibleStopIndex:b})}),r._callOnScroll=void 0,r._callOnScroll=K(function(c,u,p){return r.props.onScroll({scrollDirection:c,scrollOffset:u,scrollUpdateWasRequested:p})}),r._getItemStyle=void 0,r._getItemStyle=function(c){var u=r.props,p=u.direction,b=u.itemSize,S=u.layout,h=r._getItemStyleCache(y&&b,y&&S,y&&p),C;if(h.hasOwnProperty(c))C=h[c];else{var I=s(r.props,c,r._instanceProps),k=n(r.props,c,r._instanceProps),z=p==="horizontal"||S==="horizontal",R=p==="rtl",j=z?I:0;h[c]=C={position:"absolute",left:R?void 0:j,right:R?j:void 0,top:z?0:I,height:z?"100%":k,width:z?k:"100%"}}return C},r._getItemStyleCache=void 0,r._getItemStyleCache=K(function(c,u,p){return{}}),r._onScrollHorizontal=function(c){var u=c.currentTarget,p=u.clientWidth,b=u.scrollLeft,S=u.scrollWidth;r.setState(function(h){if(h.scrollOffset===b)return null;var C=r.props.direction,I=b;if(C==="rtl")switch(he()){case"negative":I=-b;break;case"positive-descending":I=S-p-b;break}return I=Math.max(0,Math.min(I,S-p)),{isScrolling:!0,scrollDirection:h.scrollOffset<I?"forward":"backward",scrollOffset:I,scrollUpdateWasRequested:!1}},r._resetIsScrollingDebounced)},r._onScrollVertical=function(c){var u=c.currentTarget,p=u.clientHeight,b=u.scrollHeight,S=u.scrollTop;r.setState(function(h){if(h.scrollOffset===S)return null;var C=Math.max(0,Math.min(S,b-p));return{isScrolling:!0,scrollDirection:h.scrollOffset<C?"forward":"backward",scrollOffset:C,scrollUpdateWasRequested:!1}},r._resetIsScrollingDebounced)},r._outerRefSetter=function(c){var u=r.props.outerRef;r._outerRef=c,typeof u=="function"?u(c):u!=null&&typeof u=="object"&&u.hasOwnProperty("current")&&(u.current=c)},r._resetIsScrollingDebounced=function(){r._resetIsScrollingTimeoutId!==null&&de(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=nt(r._resetIsScrolling,it)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},function(){r._getItemStyleCache(-1,null)})},r}w.getDerivedStateFromProps=function(r,c){return ut(r,c),N(r),null};var d=w.prototype;return d.scrollTo=function(r){r=Math.max(0,r),this.setState(function(c){return c.scrollOffset===r?null:{scrollDirection:c.scrollOffset<r?"forward":"backward",scrollOffset:r,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},d.scrollToItem=function(r,c){c===void 0&&(c="auto");var u=this.props,p=u.itemCount,b=u.layout,S=this.state.scrollOffset;r=Math.max(0,Math.min(r,p-1));var h=0;if(this._outerRef){var C=this._outerRef;b==="vertical"?h=C.scrollWidth>C.clientWidth?ue():0:h=C.scrollHeight>C.clientHeight?ue():0}this.scrollTo(i(this.props,r,c,S,this._instanceProps,h))},d.componentDidMount=function(){var r=this.props,c=r.direction,u=r.initialScrollOffset,p=r.layout;if(typeof u=="number"&&this._outerRef!=null){var b=this._outerRef;c==="horizontal"||p==="horizontal"?b.scrollLeft=u:b.scrollTop=u}this._callPropsCallbacks()},d.componentDidUpdate=function(){var r=this.props,c=r.direction,u=r.layout,p=this.state,b=p.scrollOffset,S=p.scrollUpdateWasRequested;if(S&&this._outerRef!=null){var h=this._outerRef;if(c==="horizontal"||u==="horizontal")if(c==="rtl")switch(he()){case"negative":h.scrollLeft=-b;break;case"positive-ascending":h.scrollLeft=b;break;default:var C=h.clientWidth,I=h.scrollWidth;h.scrollLeft=I-C-b;break}else h.scrollLeft=b;else h.scrollTop=b}this._callPropsCallbacks()},d.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&de(this._resetIsScrollingTimeoutId)},d.render=function(){var r=this.props,c=r.children,u=r.className,p=r.direction,b=r.height,S=r.innerRef,h=r.innerElementType,C=r.innerTagName,I=r.itemCount,k=r.itemData,z=r.itemKey,R=z===void 0?ct:z,j=r.layout,$=r.outerElementType,L=r.outerTagName,P=r.style,T=r.useIsScrolling,W=r.width,H=this.state.isScrolling,D=p==="horizontal"||j==="horizontal",V=D?this._onScrollHorizontal:this._onScrollVertical,ee=this._getRangeToRender(),Ce=ee[0],Se=ee[1],te=[];if(I>0)for(var F=Ce;F<=Se;F++)te.push(_.createElement(c,{data:k,key:R(F,k),index:F,isScrolling:T?H:void 0,style:this._getItemStyle(F)}));var ae=o(this.props,this._instanceProps);return _.createElement($||L||"div",{className:u,onScroll:V,ref:this._outerRefSetter,style:J({position:"relative",height:b,width:W,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:p},P)},_.createElement(h||C||"div",{children:te,ref:S,style:{height:D?"100%":ae,pointerEvents:H?"none":void 0,width:D?ae:"100%"}}))},d._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var r=this.props.itemCount;if(r>0){var c=this._getRangeToRender(),u=c[0],p=c[1],b=c[2],S=c[3];this._callOnItemsRendered(u,p,b,S)}}if(typeof this.props.onScroll=="function"){var h=this.state,C=h.scrollDirection,I=h.scrollOffset,k=h.scrollUpdateWasRequested;this._callOnScroll(C,I,k)}},d._getRangeToRender=function(){var r=this.props,c=r.itemCount,u=r.overscanCount,p=this.state,b=p.isScrolling,S=p.scrollDirection,h=p.scrollOffset;if(c===0)return[0,0,0,0];var C=x(this.props,h,this._instanceProps),I=m(this.props,C,h,this._instanceProps),k=!b||S==="backward"?Math.max(1,u):1,z=!b||S==="forward"?Math.max(1,u):1;return[Math.max(0,C-k),Math.max(0,Math.min(c-1,I+z)),C,I]},w})(_.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var ut=function(t,s){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,s.instance},ht=dt({getItemOffset:function(t,s){var o=t.itemSize;return s*o},getItemSize:function(t,s){var o=t.itemSize;return o},getEstimatedTotalSize:function(t){var s=t.itemCount,o=t.itemSize;return o*s},getOffsetForIndexAndAlignment:function(t,s,o,n,i,x){var m=t.direction,f=t.height,y=t.itemCount,N=t.itemSize,v=t.layout,w=t.width,d=m==="horizontal"||v==="horizontal",l=d?w:f,r=Math.max(0,y*N-l),c=Math.min(r,s*N),u=Math.max(0,s*N-l+N+x);switch(o==="smart"&&(n>=u-l&&n<=c+l?o="auto":o="center"),o){case"start":return c;case"end":return u;case"center":{var p=Math.round(u+(c-u)/2);return p<Math.ceil(l/2)?0:p>r+Math.floor(l/2)?r:p}case"auto":default:return n>=u&&n<=c?n:n<u?u:c}},getStartIndexForOffset:function(t,s){var o=t.itemCount,n=t.itemSize;return Math.max(0,Math.min(o-1,Math.floor(s/n)))},getStopIndexForStartIndex:function(t,s,o){var n=t.direction,i=t.height,x=t.itemCount,m=t.itemSize,f=t.layout,y=t.width,N=n==="horizontal"||f==="horizontal",v=s*m,w=N?y:i,d=Math.ceil((w+o-v)/m);return Math.max(0,Math.min(x-1,s+d-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});const ve=q.memo(({item:a,onEdit:t,onDelete:s,onToggleFavorite:o,onTrackToggle:n,isTracked:i,activeTab:x})=>{const m=_.useMemo(()=>{const f=e.jsxs("div",{className:g.tableCell,children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.name}),a.data&&typeof a.data=="object"&&"description"in a.data&&typeof a.data.description=="string"&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:a.data.description})]},"name"),y=e.jsx("div",{className:g.tableCell,children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:a.category})},"category"),N=e.jsx("td",{className:g.tableCell,children:e.jsx("span",{className:`font-medium ${(a.quantity||0)<10?"text-red-600":"text-gray-900"}`,children:a.quantity||0})},"quantity"),v=e.jsxs("td",{className:g.tableCell,children:["$",(a.unit_cost||0).toFixed(2)]},"price"),w=[f];return x!=="tools"&&w.push(y),x==="supplies"?w.push(e.jsx("div",{className:g.tableCell,children:a.location||"N/A"},"location")):x==="tools"&&w.push(e.jsx("div",{className:g.tableCell,children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.status==="active"?"bg-green-100 text-green-800":a.status==="inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:a.status})},"status")),w.push(N,v),w},[a,x]);return e.jsxs("div",{className:`${g.tableRow} ${g.virtualizedRow}`,children:[m,e.jsx("div",{className:g.tableCell,children:e.jsx(X,{item:a,onEdit:t,onDelete:s,onToggleFavorite:o,onTrackToggle:n,isTracked:i,activeTab:x})})]})});ve.displayName="VirtualizedTableRow";const je=q.memo(({data:a,columns:t,onEdit:s,onDelete:o,onToggleFavorite:n,onTrackToggle:i,isTracked:x,activeTab:m,itemHeight:f=80,maxHeight:y=600})=>{const N=_.useCallback(({index:w,style:d})=>{const l=a[w];return l?e.jsx("div",{style:d,children:e.jsx(ve,{item:l,onEdit:s,onDelete:o,onToggleFavorite:n,onTrackToggle:i,isTracked:x?x(l.id):!1,activeTab:m})}):null},[a,s,o,n,i,x,m]),v=_.useMemo(()=>e.jsx(ht,{height:Math.min(y,a.length*f),itemCount:a.length,itemSize:f,width:"100%",className:g.virtualizedList,children:N}),[a.length,f,y,N]);return e.jsx("div",{className:g.tableContainer,children:e.jsxs("div",{className:g.tableWrapper,children:[e.jsxs("table",{className:g.table,role:"table","aria-label":"Inventory items table",children:[e.jsx(Z,{columns:t,activeTab:m}),e.jsx("tbody",{className:g.virtualizedBody})]}),e.jsx("div",{className:g.virtualizedOverlay,children:v})]})})});je.displayName="VirtualizedInventoryTable";const we=q.memo(({data:a,columns:t,onEdit:s,onDelete:o,onToggleFavorite:n,onTrackToggle:i,showTrackedOnly:x=!1,showFavoritesOnly:m=!1,itemsPerPage:f=3,currentPage:y=1,onPageChange:N,activeTab:v})=>{const w=a.length>100,{favorites:d}=A(),{trackTool:l,untrackTool:r,isToolTracked:c}=xe(),{totalPages:u,paginatedData:p}=_.useMemo(()=>{let h=a;x&&(h=h.filter(R=>c(R.id))),m&&(h=h.filter(R=>d.includes(R.id)));const C=Math.max(1,Math.ceil(h.length/f)),I=(y-1)*f,k=I+f,z=h.slice(I,k);return{totalPages:C,paginatedData:z}},[a,x,m,d,c,f,y]),b=_.useCallback(h=>{c(h.id)?r(h.id):l(h.id,"medium",h.name),i&&i(h)},[c,r,l,i]),S=_.useCallback(h=>c(h),[c]);return w?e.jsxs("div",{className:`${g.tableContainer} inventory-table`,children:[e.jsx(je,{data:p,columns:t,onEdit:s,onDelete:o,onToggleFavorite:n,onTrackToggle:b,isTracked:S,activeTab:v,itemHeight:80,maxHeight:600}),N&&e.jsx(Y,{currentPage:y,totalPages:u,onPageChange:N})]}):e.jsxs("div",{className:`${g.tableContainer} inventory-table`,children:[e.jsx("div",{className:g.tableWrapper,children:e.jsxs("table",{className:g.table,role:"table","aria-label":"Inventory items table",children:[e.jsx(Z,{columns:t,activeTab:v}),e.jsx("tbody",{children:p.map(h=>e.jsx(ye,{item:h,onEdit:s,onDelete:o,onToggleFavorite:n,onTrackToggle:b,isTracked:S(h.id),activeTab:v},h.id))})]})}),N&&e.jsx(Y,{currentPage:y,totalPages:u,onPageChange:N})]})});we.displayName="BaseInventoryTable";const mt=a=>a==="tools"||a==="supplies",pt=a=>mt(a),ft=a=>{const t=["Name","Category","Quantity","Price"];switch(a){case"supplies":return["Name","Category","Location","Quantity","Price"];case"tools":return["Name","Status","Price","Location"];case"equipment":case"officeHardware":default:return[...t,"Location"]}},Ne=q.memo(({activeTab:a,filteredData:t,filteredSuppliesData:s,filteredEquipmentData:o,filteredOfficeHardwareData:n,handleEditClick:i,handleDeleteItem:x,handleToggleFavorite:m,onTrackToggle:f,showTrackedOnly:y=!1,showFavoritesOnly:N=!1,itemsPerPage:v})=>{const w=_.useMemo(()=>{switch(a){case"tools":return t;case"supplies":return s;case"equipment":return o;case"officeHardware":return n;default:return t}},[a,t,s,o,n]),d=_.useMemo(()=>ft(a),[a]);return e.jsx("div",{className:"overflow-x-auto",children:e.jsx(we,{data:w,columns:d,onEdit:i,onDelete:x,onToggleFavorite:m,onTrackToggle:f,showTrackedOnly:y,showFavoritesOnly:N,itemsPerPage:v,currentPage:1,onPageChange:()=>{},activeTab:a})})});Ne.displayName="InventoryTables";class xt extends q.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("Table Error Boundary caught an error:",t,s)}render(){if(this.state.hasError){const t=this.props.fallback;return t?e.jsx(t,{error:this.state.error}):e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("h3",{className:"text-red-800 font-medium",children:"Table Error"}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Something went wrong with the table display. Please refresh the page."}),this.state.error&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-red-600 text-sm cursor-pointer",children:"Error Details"}),e.jsx("pre",{className:"text-xs text-red-500 mt-1 overflow-auto",children:this.state.error.message})]})]})}return this.props.children}}class B{static applyFilters(t,s){if(!s)return t;let o=t;if(s.category&&(o=o.filter(n=>n.category===s.category)),s.status&&(o=o.filter(n=>n.status===s.status)),s.location&&(o=o.filter(n=>n.location===s.location)),s.search){const n=s.search.toLowerCase();o=o.filter(i=>i.name&&i.name.toLowerCase().includes(n)||i.category&&i.category.toLowerCase().includes(n)||i.data&&typeof i.data=="object"&&i.data!==null&&"description"in i.data&&typeof i.data.description=="string"&&i.data.description.toLowerCase().includes(n)||i.data&&typeof i.data=="object"&&i.data!==null&&"barcode"in i.data&&typeof i.data.barcode=="string"&&i.data.barcode.toLowerCase().includes(n)||i.data&&typeof i.data=="object"&&i.data!==null&&"serialNumber"in i.data&&typeof i.data.serialNumber=="string"&&i.data.serialNumber.toLowerCase().includes(n))}return o}static buildSupabaseQuery(t){let s="";return t!=null&&t.category&&(s+=`category.eq.${t.category}`),t!=null&&t.status&&(s&&(s+=","),s+=`status.eq.${t.status}`),t!=null&&t.location&&(s&&(s+=","),s+=`location.eq.${t.location}`),t!=null&&t.search&&(s&&(s+=","),s+=`or(name.ilike.%${t.search}%,category.ilike.%${t.search}%,description.ilike.%${t.search}%)`),s}static getUniqueCategories(t){return[...new Set(t.map(s=>s.category).filter(Boolean))]}static getUniqueLocations(t){return[...new Set(t.map(s=>s.location).filter(Boolean))]}static getUniqueStatuses(t){return[...new Set(t.map(s=>s.status).filter(Boolean))]}static getDefaultCategories(){return["Surgical","Dental","Supplies","Equipment","Office Hardware"]}static getDefaultLocations(){return["Main Clinic","Storage Room","Sterilization Room"]}static getDefaultStatuses(){return["active","inactive","p2","n/a"]}static validateFilters(t){const s=[];return t.category&&!this.getDefaultCategories().includes(t.category)&&s.push(`Invalid category: ${t.category}`),t.status&&!this.getDefaultStatuses().includes(t.status)&&s.push(`Invalid status: ${t.status}`),t.location&&!this.getDefaultLocations().includes(t.location)&&s.push(`Invalid location: ${t.location}`),t.search&&t.search.length<2&&s.push("Search term must be at least 2 characters long"),{isValid:s.length===0,errors:s}}}var gt=Object.defineProperty,me=Object.getOwnPropertySymbols,bt=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable,pe=(a,t,s)=>t in a?gt(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,G=(a,t)=>{for(var s in t||(t={}))bt.call(t,s)&&pe(a,s,t[s]);if(me)for(var s of me(t))yt.call(t,s)&&pe(a,s,t[s]);return a};const vt=q.memo(({onEdit:a,onDelete:t,onClone:s,items:o})=>{const{activeTab:n,showFilters:i,setShowFilters:x,searchQuery:m,setSearchQuery:f,categoryFilter:y,setCategoryFilter:N,locationFilter:v,setLocationFilter:w,showTrackedOnly:d,setShowTrackedOnly:l,showFavoritesOnly:r,setShowFavoritesOnly:c,itemsPerPage:u,favorites:p,toggleFavorite:b,openAddModal:S}=A(),{tools:h,supplies:C,equipment:I,officeHardware:k}=De(),z=q.useMemo(()=>({searchQuery:m,category:y,location:v,showTrackedOnly:d,showFavoritesOnly:r}),[m,y,v,d,r]),R=q.useMemo(()=>({filters:z,showFilters:i,setShowFilters:x,setSearchQuery:f,onToggleTrackedFilter:()=>{pt(n)&&l(!d)}}),[z,i,x,f,n,d,l]),j=q.useMemo(()=>({activeTab:n,filters:{searchQuery:m,category:y,location:v,showFavoritesOnly:r},setCategoryFilter:N,setLocationFilter:w,setSearchQuery:f,onToggleFavoritesFilter:()=>{c(!r)}}),[n,m,y,v,r,N,w,f,c]),$=q.useMemo(()=>{const T={search:m,category:y,location:v},W=B.applyFilters(h,T),H=B.applyFilters(C,T),D=B.applyFilters(I,T),V=B.applyFilters(k,T);return{activeTab:n,filteredData:W,filteredSuppliesData:H,filteredEquipmentData:D,filteredOfficeHardwareData:V,handleEditClick:a,handleDeleteItem:t,handleCloneItem:s,handleToggleFavorite:b,showTrackedOnly:d,showFavoritesOnly:r,itemsPerPage:u,favorites:p}},[n,h,C,I,k,m,y,v,a,t,s,b,d,r,u,p]),L=()=>{switch(n){case"tools":return"Tools Table";case"supplies":return"Supplies Table";case"equipment":return"Equipment Table";case"officeHardware":return"Office Hardware Table";default:return"Inventory Table"}},P=()=>{switch(n){case"tools":return"Manage your tools inventory items";case"supplies":return"Manage your supplies inventory items";case"equipment":return"Manage your equipment inventory items";case"officeHardware":return"Manage your office hardware inventory items";default:return"Manage your inventory items"}};return e.jsxs("div",{role:"region","aria-label":`${n} inventory table section`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:L()}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P()})]}),e.jsxs("button",{onClick:S,className:"px-4 py-2 bg-[#4ECDC4] hover:bg-[#3db8b0] text-white rounded-lg font-medium flex items-center gap-2 transition-colors duration-200 shadow-sm hover:shadow-md","aria-label":"Add new item to inventory",children:[e.jsx(O,{path:Te,size:1}),"Add Item"]})]}),e.jsx("div",{className:"mb-4",children:e.jsx(be,G({},R))}),i&&e.jsx("div",{id:"expanded-filters-panel",children:e.jsx(Fe,G({},j))}),e.jsx(xt,{children:e.jsx(Ne,G({},$))})]})});vt.displayName="InventoryTableSection";export{vt as default};
