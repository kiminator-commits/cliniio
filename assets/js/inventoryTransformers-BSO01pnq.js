var z=Object.defineProperty,F=Object.defineProperties,E=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,j=(v,t,a)=>t in v?z(v,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):v[t]=a,T=(v,t)=>{for(var a in t||(t={}))L.call(t,a)&&j(v,a,t[a]);if(C)for(var a of C(t))M.call(t,a)&&j(v,a,t[a]);return v},U=(v,t)=>F(v,E(t));class B{static transformFromSupabase(t){var a,d,o;const r=t.data||{},n=t.category||r.category||"unknown";return{id:t.id,name:t.name,category:n,location:"",status:"active",updated_at:t.updated_at,quantity:t.quantity,unit_cost:t.unit_cost,reorder_point:t.reorder_point||0,expiration_date:t.expiration_date||"",created_at:t.created_at,facility_id:t.facility_id||"",data:{description:r.description||"",barcode:r.barcode||"",warranty:r.warranty||"",serialNumber:r.serialNumber||"",manufacturer:r.manufacturer||"",lastServiced:r.lastServiced||"",unit:r.unit||"",supplier:r.supplier||"",notes:r.notes||"",tags:r.tags||[],imageUrl:r.imageUrl||"",isActive:(a=r.isActive)!=null?a:!0,tracked:(d=r.tracked)!=null?d:!0,favorite:(o=r.favorite)!=null?o:!1,purchaseDate:r.purchaseDate||"",createdAt:r.createdAt||"",updatedAt:r.updatedAt||"",currentPhase:r.currentPhase||"",sku:r.sku||"",p2Status:r.p2Status||"",toolId:r.toolId||"",supplyId:r.supplyId||"",equipmentId:r.equipmentId||"",hardwareId:r.hardwareId||"",serviceProvider:r.serviceProvider||"",assignedTo:r.assignedTo||""}}}static transformToSupabase(t){var a,d,o,r,n,l,u,i,s;const e={name:t.name,category:t.category,quantity:t.quantity||0,unit_cost:t.unit_cost||0,status:t.status||"active"};return t.facility_id&&(e.facility_id=t.facility_id),(a=t.data)!=null&&a.description&&(e.description=t.data.description),t.location&&(e.location=t.location),(d=t.data)!=null&&d.sku&&(e.sku=t.data.sku),(o=t.data)!=null&&o.barcode&&(e.barcode=t.data.barcode),(r=t.data)!=null&&r.manufacturer&&(e.manufacturer=t.data.manufacturer),(n=t.data)!=null&&n.serialNumber&&(e.serial_number=t.data.serialNumber),(l=t.data)!=null&&l.expiration&&(e.expiration_date=t.data.expiration),(u=t.data)!=null&&u.unit&&(e.unit_of_measure=t.data.unit),t.reorder_point!==void 0&&(e.reorder_point=t.reorder_point),(i=t.data)!=null&&i.createdAt&&(e.created_at=t.data.createdAt),(s=t.data)!=null&&s.updatedAt&&(e.updated_at=t.data.updatedAt),e}static transformForModal(t){return t.map(a=>{var d,o;return{id:a.id||"",name:a.name||"",barcode:((d=a.data)==null?void 0:d.barcode)||a.id||"",currentPhase:a.status||((o=a.data)==null?void 0:o.currentPhase)||"Unknown",category:a.category||""}})}static transformForTable(t){return t.map(a=>{var d,o,r,n;return{id:a.id||"",name:a.name||"",category:a.category||"",location:a.location||"",status:a.status||((d=a.data)==null?void 0:d.currentPhase)||"Unknown",tracked:((o=a.data)==null?void 0:o.tracked)||!1,favorite:((r=a.data)==null?void 0:r.favorite)||!1,lastUpdated:((n=a.data)==null?void 0:n.updatedAt)||""}})}static transformForExport(t){return t.map(a=>{var d,o,r,n,l,u,i,s,e,c,_,p;return{ID:a.id||"",Name:a.name||"",Category:a.category||"",Location:a.location||"",Status:a.status||((d=a.data)==null?void 0:d.currentPhase)||"",Quantity:String(a.quantity||0),Cost:String(a.unit_cost||0),Barcode:((o=a.data)==null?void 0:o.barcode)||"",SerialNumber:((r=a.data)==null?void 0:r.serialNumber)||"",Manufacturer:((n=a.data)==null?void 0:n.manufacturer)||"",SKU:((l=a.data)==null?void 0:l.sku)||"",Description:((u=a.data)==null?void 0:u.description)||"",Warranty:((i=a.data)==null?void 0:i.warranty)||"",LastServiced:((s=a.data)==null?void 0:s.lastServiced)||"",Notes:((e=a.data)==null?void 0:e.notes)||"",Tags:Array.isArray((c=a.data)==null?void 0:c.tags)?a.data.tags.join(", "):"",CreatedAt:((_=a.data)==null?void 0:_.createdAt)||"",UpdatedAt:((p=a.data)==null?void 0:p.updatedAt)||""}})}static transformForSearch(t){return t.map(a=>{var d,o,r;return{id:a.id,name:a.name||"",category:a.category||"",location:a.location||"",status:a.status||((d=a.data)==null?void 0:d.currentPhase)||"",quantity:a.quantity||0,unit_cost:a.unit_cost||0,barcode:((o=a.data)==null?void 0:o.barcode)||void 0,description:(r=a.data)==null?void 0:r.description}})}static createNewItem(t){var a,d,o,r,n,l,u,i,s,e,c,_,p,f,g,y,h,S,w,A,b,P,x,k,q,D,I,N;const O=new Date().toISOString();return{id:"",name:t.name||"",category:t.category||"",location:t.location||"",status:t.status||"Active",quantity:t.quantity||0,unit_cost:t.unit_cost||0,reorder_point:t.reorder_point||0,expiration_date:t.expiration_date||"",created_at:O,updated_at:O,facility_id:t.facility_id||"",data:{description:((a=t.data)==null?void 0:a.description)||"",barcode:((d=t.data)==null?void 0:d.barcode)||"",warranty:((o=t.data)==null?void 0:o.warranty)||"",serialNumber:((r=t.data)==null?void 0:r.serialNumber)||"",expiration:((n=t.data)==null?void 0:n.expiration)||"",manufacturer:((l=t.data)==null?void 0:l.manufacturer)||"",lastServiced:((u=t.data)==null?void 0:u.lastServiced)||"",unit:((i=t.data)==null?void 0:i.unit)||"",supplier:((s=t.data)==null?void 0:s.supplier)||"",notes:((e=t.data)==null?void 0:e.notes)||"",tags:((c=t.data)==null?void 0:c.tags)||[],imageUrl:((_=t.data)==null?void 0:_.imageUrl)||"",isActive:(f=(p=t.data)==null?void 0:p.isActive)!=null?f:!0,tracked:(y=(g=t.data)==null?void 0:g.tracked)!=null?y:!1,favorite:(S=(h=t.data)==null?void 0:h.favorite)!=null?S:!1,purchaseDate:((w=t.data)==null?void 0:w.purchaseDate)||"",createdAt:O,updatedAt:O,currentPhase:((A=t.data)==null?void 0:A.currentPhase)||"Active",sku:((b=t.data)==null?void 0:b.sku)||"",p2Status:((P=t.data)==null?void 0:P.p2Status)||"",toolId:((x=t.data)==null?void 0:x.toolId)||"",supplyId:((k=t.data)==null?void 0:k.supplyId)||"",equipmentId:((q=t.data)==null?void 0:q.equipmentId)||"",hardwareId:((D=t.data)==null?void 0:D.hardwareId)||"",serviceProvider:((I=t.data)==null?void 0:I.serviceProvider)||"",assignedTo:((N=t.data)==null?void 0:N.assignedTo)||""}}}static updateItemWithTimestamp(t){const a=new Date().toISOString();return U(T({},t),{data:U(T({},t.data),{lastUpdated:a,updatedAt:a})})}static normalizeItemName(t){return t?t.trim().replace(/\s+/g," ").split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" "):""}static normalizeCategory(t){return t?t.trim().toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""):""}static transformInventoryItem(t){var a;const d=this.normalizeItemName(t.name||""),o=this.normalizeCategory(t.category||""),r=(a=t.data)!=null&&a.expiration?new Date(t.data.expiration):null,n=new Date,l=r?r<n:!1,u=r?Math.ceil((r.getTime()-n.getTime())/(1e3*60*60*24)):null;return U(T({},t),{normalizedName:d,normalizedCategory:o,quantityInStock:Math.max(0,t.quantity||1),isExpired:l,daysUntilExpiry:u})}static transformInventoryBatch(t){return t.map(a=>this.transformInventoryItem(a))}static transformToCSV(t){if(t.length===0)return"";const a=["Name","Quantity","Category","Status","Expiry Date"],d=t.map(r=>{var n;return[r.name,(r.quantity||1).toString(),r.category,r.status,((n=r.data)==null?void 0:n.expiration)||""]});return[a,...d].map(r=>r.map(n=>`"${n}"`).join(",")).join(`
`)}static transformFromCSV(t){const a=t.trim().split(`
`);if(a.length<2)return[];const d=a[0].split(",").map(r=>r.replace(/"/g,"").trim());return a.slice(1).map(r=>{const n=r.split(",").map(u=>u.replace(/"/g,"").trim()),l={};return d.forEach((u,i)=>{l[u.toLowerCase().replace(/\s+/g,"")]=n[i]||""}),{id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:l.name||"",category:l.category||"",status:l.status||"active",quantity:parseInt(l.quantity)||1,unit_cost:0,reorder_point:0,expiration_date:l.expirydate||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),facility_id:"",location:"",data:{description:"",barcode:"",warranty:"",serialNumber:"",manufacturer:"",lastServiced:"",unit:"",supplier:"",notes:"",tags:[],imageUrl:"",isActive:!0,tracked:!1,favorite:!1,purchaseDate:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),currentPhase:"",sku:"",p2Status:"",toolId:"",supplyId:"",equipmentId:"",hardwareId:"",serviceProvider:"",assignedTo:""}}})}static transformForAPI(t){return t.map(a=>{var d,o,r,n,l,u,i,s,e,c,_,p,f,g,y,h,S,w,A,b,P,x,k,q,D;return{id:a.id,name:a.name,category:a.category,status:a.status,quantity:a.quantity,location:a.location,unit_cost:a.unit_cost,reorder_point:a.reorder_point,expiration_date:a.expiration_date,created_at:a.created_at,updated_at:a.updated_at,facility_id:a.facility_id,data:{description:(d=a.data)==null?void 0:d.description,barcode:((o=a.data)==null?void 0:o.barcode)||void 0,serialNumber:(r=a.data)==null?void 0:r.serialNumber,manufacturer:(n=a.data)==null?void 0:n.manufacturer,supplier:(l=a.data)==null?void 0:l.supplier,expiration:(u=a.data)==null?void 0:u.expiration,warranty:(i=a.data)==null?void 0:i.warranty,notes:(s=a.data)==null?void 0:s.notes,tags:(e=a.data)==null?void 0:e.tags,imageUrl:(c=a.data)==null?void 0:c.imageUrl,isActive:(_=a.data)==null?void 0:_.isActive,tracked:(p=a.data)==null?void 0:p.tracked,favorite:(f=a.data)==null?void 0:f.favorite,purchaseDate:(g=a.data)==null?void 0:g.purchaseDate,lastServiced:(y=a.data)==null?void 0:y.lastServiced,unit:(h=a.data)==null?void 0:h.unit,currentPhase:(S=a.data)==null?void 0:S.currentPhase,sku:(w=a.data)==null?void 0:w.sku,p2Status:(A=a.data)==null?void 0:A.p2Status,toolId:(b=a.data)==null?void 0:b.toolId,supplyId:(P=a.data)==null?void 0:P.supplyId,equipmentId:(x=a.data)==null?void 0:x.equipmentId,hardwareId:(k=a.data)==null?void 0:k.hardwareId,serviceProvider:(q=a.data)==null?void 0:q.serviceProvider,assignedTo:(D=a.data)==null?void 0:D.assignedTo}}})}static transformFromAPI(t){return t.map(a=>{var d,o,r,n,l,u,i,s,e,c,_,p,f,g,y,h,S,w,A,b,P,x,k,q,D,I,N;return{id:a.id,name:a.name,category:a.category,location:a.location,status:a.status,updated_at:a.updated_at,quantity:a.quantity,unit_cost:a.unit_cost,reorder_point:a.reorder_point,expiration_date:a.expiration_date,created_at:a.created_at,facility_id:a.facility_id,data:{description:(d=a.data)==null?void 0:d.description,barcode:(o=a.data)==null?void 0:o.barcode,warranty:(r=a.data)==null?void 0:r.warranty,serialNumber:(n=a.data)==null?void 0:n.serialNumber,expiration:(l=a.data)==null?void 0:l.expiration,manufacturer:(u=a.data)==null?void 0:u.manufacturer,lastServiced:(i=a.data)==null?void 0:i.lastServiced,unit:(s=a.data)==null?void 0:s.unit,supplier:(e=a.data)==null?void 0:e.supplier,notes:(c=a.data)==null?void 0:c.notes,tags:(_=a.data)==null?void 0:_.tags,imageUrl:(p=a.data)==null?void 0:p.imageUrl,isActive:(f=a.data)==null?void 0:f.isActive,tracked:(g=a.data)==null?void 0:g.tracked,favorite:(y=a.data)==null?void 0:y.favorite,purchaseDate:(h=a.data)==null?void 0:h.purchaseDate,createdAt:(S=a.data)==null?void 0:S.createdAt,updatedAt:(w=a.data)==null?void 0:w.updatedAt,currentPhase:(A=a.data)==null?void 0:A.currentPhase,sku:(b=a.data)==null?void 0:b.sku,p2Status:(P=a.data)==null?void 0:P.p2Status,toolId:(x=a.data)==null?void 0:x.toolId,supplyId:(k=a.data)==null?void 0:k.supplyId,equipmentId:(q=a.data)==null?void 0:q.equipmentId,hardwareId:(D=a.data)==null?void 0:D.hardwareId,serviceProvider:(I=a.data)==null?void 0:I.serviceProvider,assignedTo:(N=a.data)==null?void 0:N.assignedTo}}})}}export{B as I};
